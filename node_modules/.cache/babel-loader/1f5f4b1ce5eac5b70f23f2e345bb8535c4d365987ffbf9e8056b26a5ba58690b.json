{"ast":null,"code":"import _objectSpread from\"/home/gustavodias/Downloads/CEPAS/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useContext}from'react';import{useNavigate}from'react-router-dom';import{AuthContext}from'../contexts/AuthContext';import'./Login.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Login=()=>{const[formData,setFormData]=useState({username:'',password:''});const[isLoading,setIsLoading]=useState(false);const[error,setError]=useState('');const{login}=useContext(AuthContext);const navigate=useNavigate();const handleChange=e=>{setFormData(_objectSpread(_objectSpread({},formData),{},{[e.target.name]:e.target.value}));};const handleSubmit=async e=>{e.preventDefault();setIsLoading(true);setError('');try{await login(formData.username,formData.password);navigate('/');// Redirecionar para página principal após login\n}catch(err){setError(err.message||'Erro ao fazer login');}finally{setIsLoading(false);}};return/*#__PURE__*/_jsx(\"div\",{className:\"login-container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"login-card\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"login-header\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Sistema CEPAS\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Fa\\xE7a login para acessar o sistema\"})]}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"login-form\",children:[error&&/*#__PURE__*/_jsx(\"div\",{className:\"error-message\",children:error}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"username\",children:\"Usu\\xE1rio:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"username\",name:\"username\",value:formData.username,onChange:handleChange,required:true,disabled:isLoading,autoComplete:\"username\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password\",children:\"Senha:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",id:\"password\",name:\"password\",value:formData.password,onChange:handleChange,required:true,disabled:isLoading,autoComplete:\"current-password\"})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"login-button\",disabled:isLoading,children:isLoading?'Entrando...':'Entrar'})]})]})});};export default Login;","map":{"version":3,"names":["React","useState","useContext","useNavigate","AuthContext","jsx","_jsx","jsxs","_jsxs","Login","formData","setFormData","username","password","isLoading","setIsLoading","error","setError","login","navigate","handleChange","e","_objectSpread","target","name","value","handleSubmit","preventDefault","err","message","className","children","onSubmit","htmlFor","type","id","onChange","required","disabled","autoComplete"],"sources":["/home/gustavodias/Downloads/CEPAS/src/components/Login.js"],"sourcesContent":["import React, { useState, useContext } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { AuthContext } from '../contexts/AuthContext';\r\nimport './Login.css';\r\n\r\nconst Login = () => {\r\n    const [formData, setFormData] = useState({\r\n        username: '',\r\n        password: ''\r\n    });\r\n    const [isLoading, setIsLoading] = useState(false);\r\n    const [error, setError] = useState('');\r\n    \r\n    const { login } = useContext(AuthContext);\r\n    const navigate = useNavigate();\r\n\r\n    const handleChange = (e) => {\r\n        setFormData({\r\n            ...formData,\r\n            [e.target.name]: e.target.value\r\n        });\r\n    };\r\n\r\n    const handleSubmit = async (e) => {\r\n        e.preventDefault();\r\n        setIsLoading(true);\r\n        setError('');\r\n\r\n        try {\r\n            await login(formData.username, formData.password);\r\n            navigate('/'); // Redirecionar para página principal após login\r\n        } catch (err) {\r\n            setError(err.message || 'Erro ao fazer login');\r\n        } finally {\r\n            setIsLoading(false);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"login-container\">\r\n            <div className=\"login-card\">\r\n                <div className=\"login-header\">\r\n                    <h2>Sistema CEPAS</h2>\r\n                    <p>Faça login para acessar o sistema</p>\r\n                </div>\r\n\r\n                <form onSubmit={handleSubmit} className=\"login-form\">\r\n                    {error && (\r\n                        <div className=\"error-message\">\r\n                            {error}\r\n                        </div>\r\n                    )}\r\n\r\n                    <div className=\"form-group\">\r\n                        <label htmlFor=\"username\">Usuário:</label>\r\n                        <input\r\n                            type=\"text\"\r\n                            id=\"username\"\r\n                            name=\"username\"\r\n                            value={formData.username}\r\n                            onChange={handleChange}\r\n                            required\r\n                            disabled={isLoading}\r\n                            autoComplete=\"username\"\r\n                        />\r\n                    </div>\r\n\r\n                    <div className=\"form-group\">\r\n                        <label htmlFor=\"password\">Senha:</label>\r\n                        <input\r\n                            type=\"password\"\r\n                            id=\"password\"\r\n                            name=\"password\"\r\n                            value={formData.password}\r\n                            onChange={handleChange}\r\n                            required\r\n                            disabled={isLoading}\r\n                            autoComplete=\"current-password\"\r\n                        />\r\n                    </div>\r\n\r\n                    <button \r\n                        type=\"submit\" \r\n                        className=\"login-button\"\r\n                        disabled={isLoading}\r\n                    >\r\n                        {isLoading ? 'Entrando...' : 'Entrar'}\r\n                    </button>\r\n                </form>\r\n\r\n                {/* Removed test credentials from the login UI for security/privacy */}\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Login;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}