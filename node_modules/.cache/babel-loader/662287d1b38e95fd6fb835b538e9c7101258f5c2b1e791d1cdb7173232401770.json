{"ast":null,"code":"import React from'react';import{useAuth}from'../hooks/useAuth';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ProtectedRoute=_ref=>{let{children,requiredRoles=null,fallback=null}=_ref;const{isAuthenticated,hasPermission,isLoading}=useAuth();// Mostrar loading enquanto verifica autenticação\nif(isLoading){return/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',justifyContent:'center',alignItems:'center',height:'100vh'},children:/*#__PURE__*/_jsx(\"div\",{children:\"Carregando...\"})});}// Se não está autenticado, não renderizar nada (será redirecionado)\nif(!isAuthenticated){return null;}// Se requer roles específicos, verificar permissão\nif(requiredRoles&&!hasPermission(requiredRoles)){return fallback||/*#__PURE__*/_jsxs(\"div\",{style:{padding:'20px',textAlign:'center',color:'#d33'},children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Acesso Negado\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Voc\\xEA n\\xE3o tem permiss\\xE3o para acessar esta p\\xE1gina.\"})]});}return children;};export default ProtectedRoute;","map":{"version":3,"names":["React","useAuth","jsx","_jsx","jsxs","_jsxs","ProtectedRoute","_ref","children","requiredRoles","fallback","isAuthenticated","hasPermission","isLoading","style","display","justifyContent","alignItems","height","padding","textAlign","color"],"sources":["/home/gustavodias/Downloads/CEPAS/src/components/ProtectedRoute.js"],"sourcesContent":["import React from 'react';\r\nimport { useAuth } from '../hooks/useAuth';\r\n\r\nconst ProtectedRoute = ({ children, requiredRoles = null, fallback = null }) => {\r\n    const { isAuthenticated, hasPermission, isLoading } = useAuth();\r\n\r\n    // Mostrar loading enquanto verifica autenticação\r\n    if (isLoading) {\r\n        return (\r\n            <div style={{ \r\n                display: 'flex', \r\n                justifyContent: 'center', \r\n                alignItems: 'center', \r\n                height: '100vh' \r\n            }}>\r\n                <div>Carregando...</div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    // Se não está autenticado, não renderizar nada (será redirecionado)\r\n    if (!isAuthenticated) {\r\n        return null;\r\n    }\r\n\r\n    // Se requer roles específicos, verificar permissão\r\n    if (requiredRoles && !hasPermission(requiredRoles)) {\r\n        return fallback || (\r\n            <div style={{ \r\n                padding: '20px', \r\n                textAlign: 'center', \r\n                color: '#d33' \r\n            }}>\r\n                <h3>Acesso Negado</h3>\r\n                <p>Você não tem permissão para acessar esta página.</p>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    return children;\r\n};\r\n\r\nexport default ProtectedRoute;"],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,OAASC,OAAO,KAAQ,kBAAkB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE3C,KAAM,CAAAC,cAAc,CAAGC,IAAA,EAAyD,IAAxD,CAAEC,QAAQ,CAAEC,aAAa,CAAG,IAAI,CAAEC,QAAQ,CAAG,IAAK,CAAC,CAAAH,IAAA,CACvE,KAAM,CAAEI,eAAe,CAAEC,aAAa,CAAEC,SAAU,CAAC,CAAGZ,OAAO,CAAC,CAAC,CAE/D;AACA,GAAIY,SAAS,CAAE,CACX,mBACIV,IAAA,QAAKW,KAAK,CAAE,CACRC,OAAO,CAAE,MAAM,CACfC,cAAc,CAAE,QAAQ,CACxBC,UAAU,CAAE,QAAQ,CACpBC,MAAM,CAAE,OACZ,CAAE,CAAAV,QAAA,cACEL,IAAA,QAAAK,QAAA,CAAK,eAAa,CAAK,CAAC,CACvB,CAAC,CAEd,CAEA;AACA,GAAI,CAACG,eAAe,CAAE,CAClB,MAAO,KAAI,CACf,CAEA;AACA,GAAIF,aAAa,EAAI,CAACG,aAAa,CAACH,aAAa,CAAC,CAAE,CAChD,MAAO,CAAAC,QAAQ,eACXL,KAAA,QAAKS,KAAK,CAAE,CACRK,OAAO,CAAE,MAAM,CACfC,SAAS,CAAE,QAAQ,CACnBC,KAAK,CAAE,MACX,CAAE,CAAAb,QAAA,eACEL,IAAA,OAAAK,QAAA,CAAI,eAAa,CAAI,CAAC,cACtBL,IAAA,MAAAK,QAAA,CAAG,8DAAgD,CAAG,CAAC,EACtD,CACR,CACL,CAEA,MAAO,CAAAA,QAAQ,CACnB,CAAC,CAED,cAAe,CAAAF,cAAc","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}