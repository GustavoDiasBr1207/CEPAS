{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\gusta\\\\OneDrive\\\\\\xC1rea de Trabalho\\\\CEPAS\\\\src\\\\pages\\\\ListaMonitores.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport './ListaFamilias.css';\nimport { getMonitors, deleteMonitor, updateMonitor } from '../services/cepasService';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ListaMonitores = () => {\n  _s();\n  const [monitores, setMonitores] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState('');\n  const [success, setSuccess] = useState('');\n  const [deletingId, setDeletingId] = useState(null);\n  const [editingMonitor, setEditingMonitor] = useState(null); // object being edited\n  const [search, setSearch] = useState('');\n  const [page, setPage] = useState(1);\n  const PAGE_SIZE = 6;\n  useEffect(() => {\n    carregarMonitores();\n  }, []);\n  const carregarMonitores = async () => {\n    setLoading(true);\n    setError('');\n    setSuccess('');\n    try {\n      const data = await getMonitors();\n      // API generic GET /api/dados/Monitor might return array or { data }\n      const list = Array.isArray(data) ? data : data.data || data;\n      const arr = list || [];\n      setMonitores(arr);\n      // don't set success here to the total count ‚Äî keep success for operation messages\n      setSuccess('');\n    } catch (err) {\n      console.error('Erro ao carregar monitores:', err);\n      setError(`Erro ao carregar monitores: ${err.message}`);\n    } finally {\n      setLoading(false);\n    }\n  };\n  const confirmarDelecao = monitor => {\n    if (!monitor) return;\n    const nome = monitor.NOME || monitor.nome || '';\n    const ok = window.confirm(`Tem certeza que deseja deletar o monitor ${nome}?`);\n    if (ok) deletarMonitor(monitor.ID_MONITOR || monitor.ID || monitor.id_monitor);\n  };\n  const deletarMonitor = async id => {\n    if (!id) return;\n    setDeletingId(id);\n    try {\n      await deleteMonitor(id);\n      setMonitores(prev => prev.filter(m => (m.ID_MONITOR || m.ID || m.id_monitor) !== id));\n      setSuccess('Monitor exclu√≠do com sucesso');\n    } catch (err) {\n      console.error('Erro ao deletar monitor:', err);\n      setError(`Erro ao deletar monitor: ${err.message}`);\n    } finally {\n      setDeletingId(null);\n    }\n  };\n  const abrirEdicao = monitor => {\n    // normalize fields\n    const m = {\n      id: monitor.ID_MONITOR || monitor.ID || monitor.id_monitor,\n      nome: monitor.NOME || monitor.nome || '',\n      email: monitor.EMAIL || monitor.email || '',\n      telefone: monitor.TELEFONE || monitor.telefone || '',\n      observacao: monitor.OBSERVACAO || monitor.observacao || ''\n    };\n    setEditingMonitor(m);\n  };\n  const fecharEdicao = () => setEditingMonitor(null);\n  const salvarEdicao = async e => {\n    e.preventDefault();\n    if (!editingMonitor) return;\n    const id = editingMonitor.id;\n    const payload = {\n      nome: editingMonitor.nome,\n      telefone: editingMonitor.telefone || null,\n      email: editingMonitor.email,\n      observacao: editingMonitor.observacao || null\n    };\n    try {\n      setLoading(true);\n      await updateMonitor(id, payload);\n      // update local list\n      setMonitores(prev => prev.map(m => {\n        const mid = m.ID_MONITOR || m.ID || m.id_monitor;\n        if (String(mid) === String(id)) {\n          return {\n            ...m,\n            NOME: payload.nome,\n            NOME_FAMILIA: payload.nome,\n            NOME_RESPONSAVEL: payload.nome,\n            NOME: payload.nome,\n            EMAIL: payload.email,\n            TELEFONE: payload.telefone,\n            OBSERVACAO: payload.observacao\n          };\n        }\n        return m;\n      }));\n      setSuccess('Monitor atualizado com sucesso');\n      fecharEdicao();\n    } catch (err) {\n      console.error('Erro ao atualizar monitor:', err);\n      setError(`Erro ao atualizar monitor: ${err.message}`);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Derived filtered + paginated list\n  const filtered = monitores.filter(m => {\n    const nome = (m.NOME || m.nome || '').toString().toLowerCase();\n    const email = (m.EMAIL || m.email || '').toString().toLowerCase();\n    const q = search.trim().toLowerCase();\n    if (!q) return true;\n    return nome.includes(q) || email.includes(q) || String(m.ID_MONITOR || m.ID || m.id_monitor).includes(q);\n  });\n  const totalPages = Math.max(1, Math.ceil(filtered.length / PAGE_SIZE));\n  const currentPage = Math.min(page, totalPages);\n  const startIndex = (currentPage - 1) * PAGE_SIZE;\n  const paged = filtered.slice(startIndex, startIndex + PAGE_SIZE);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"formulario-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"formulario-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"\\uD83D\\uDC65 Lista de Monitores\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Gerencie os monitores cadastrados no sistema\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"form-actions\",\n      style: {\n        marginBottom: 16,\n        display: 'flex',\n        justifyContent: 'space-between',\n        alignItems: 'center',\n        gap: 12\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'flex',\n          gap: 8,\n          alignItems: 'center'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn-secondary\",\n          onClick: carregarMonitores,\n          disabled: loading,\n          children: loading ? 'Carregando...' : 'Recarregar Lista'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          style: {\n            color: '#2c3e50',\n            fontWeight: 600\n          },\n          children: [monitores.length, \" total\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'flex',\n          gap: 8,\n          alignItems: 'center'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          value: search,\n          onChange: e => {\n            setSearch(e.target.value);\n            setPage(1);\n          },\n          placeholder: \"Buscar por nome, e-mail ou ID\",\n          style: {\n            padding: '8px 10px',\n            borderRadius: 8,\n            border: '1px solid #e6eef6'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 135,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/cadastro-monitor\",\n          className: \"btn-edit\",\n          children: \"+ Adicionar Monitor\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 13\n    }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"message error\",\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 23\n    }, this), success && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"message success\",\n      children: success\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 25\n    }, this), !loading && monitores.length === 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"empty-state\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"\\uD83D\\uDCED Nenhum monitor encontrado\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"N\\xE3o h\\xE1 monitores cadastrados no sistema ainda.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 17\n    }, this), !loading && monitores.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [(() => {\n        const q = search.trim();\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            textAlign: 'center',\n            fontWeight: 600,\n            margin: '10px 0 18px 0',\n            color: '#2c3e50'\n          },\n          children: q ? `Mostrando ${filtered.length} de ${monitores.length} (filtro: \"${search}\")` : `${filtered.length} monitor(es) encontrado(s)`\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 156,\n          columnNumber: 29\n        }, this);\n      })(), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"familias-grid\",\n        children: paged.map(m => {\n          const id = m.ID_MONITOR || m.ID || m.id_monitor;\n          const nome = m.NOME || m.nome || '';\n          const email = m.EMAIL || m.email || '';\n          const telefone = m.TELEFONE || m.telefone || '';\n          const obs = m.OBSERVACAO || m.observacao || '';\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"familia-card\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"familia-header\",\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                children: [\"\\uD83D\\uDC64 \", nome || '‚Äî']\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 172,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"familia-id\",\n                children: [\"ID: \", id]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 173,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 171,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"familia-info\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"info-row\",\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"E-mail:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 178,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: email || 'N√£o informado'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 179,\n                  columnNumber: 41\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 177,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"info-row\",\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Telefone:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 182,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: telefone || 'N√£o informado'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 183,\n                  columnNumber: 41\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 181,\n                columnNumber: 37\n              }, this), obs && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"info-row observacoes\",\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Observa\\xE7\\xE3o:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 187,\n                  columnNumber: 45\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: obs\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 188,\n                  columnNumber: 45\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 186,\n                columnNumber: 41\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 176,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"familia-actions\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"btn-secondary\",\n                onClick: () => abrirEdicao(m),\n                children: \"\\u270F\\uFE0F Editar\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 194,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"btn-danger\",\n                onClick: () => confirmarDelecao(m),\n                disabled: deletingId === id,\n                children: deletingId === id ? '‚è≥ Deletando...' : 'üóëÔ∏è Deletar'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 197,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 193,\n              columnNumber: 33\n            }, this)]\n          }, String(id), true, {\n            fileName: _jsxFileName,\n            lineNumber: 170,\n            columnNumber: 29\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 21\n      }, this), totalPages > 1 && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"pagination\",\n        style: {\n          marginTop: 18,\n          display: 'flex',\n          justifyContent: 'center',\n          gap: 8\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"page-button\",\n          onClick: () => setPage(p => Math.max(1, p - 1)),\n          disabled: currentPage === 1,\n          children: \"\\u2039 Prev\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 209,\n          columnNumber: 29\n        }, this), Array.from({\n          length: totalPages\n        }).map((_, i) => /*#__PURE__*/_jsxDEV(\"button\", {\n          className: `page-button ${currentPage === i + 1 ? 'active' : ''}`,\n          onClick: () => setPage(i + 1),\n          children: i + 1\n        }, i, false, {\n          fileName: _jsxFileName,\n          lineNumber: 211,\n          columnNumber: 33\n        }, this)), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"page-button\",\n          onClick: () => setPage(p => Math.min(totalPages, p + 1)),\n          disabled: currentPage === totalPages,\n          children: \"Next \\u203A\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 213,\n          columnNumber: 29\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 208,\n        columnNumber: 25\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 17\n    }, this), editingMonitor && /*#__PURE__*/_jsxDEV(ModalWrapper, {\n      editingMonitor: editingMonitor,\n      setEditingMonitor: setEditingMonitor,\n      salvarEdicao: salvarEdicao,\n      fecharEdicao: fecharEdicao\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 220,\n      columnNumber: 32\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 123,\n    columnNumber: 9\n  }, this);\n};\n_s(ListaMonitores, \"m2yxYPvgVRGHoK+pfxdfapmW42I=\");\n_c = ListaMonitores;\nexport default ListaMonitores;\n\n/* Edit modal: renders when editingMonitor is non-null */\n// Note: kept at file end to avoid duplicating handlers above\n\n// Modal rendering (portaled inline here)\n// We add it outside the main return to keep the component structure linear.\n// It uses the same editing state and handlers defined above.\n\n/* eslint-disable react/jsx-no-useless-fragment */\n\nconst ModalWrapper = ({\n  editingMonitor,\n  setEditingMonitor,\n  salvarEdicao,\n  fecharEdicao\n}) => {\n  if (!editingMonitor) return null;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"modal-overlay\",\n    onMouseDown: fecharEdicao,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"modal\",\n      onMouseDown: e => e.stopPropagation(),\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Editar Monitor\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 243,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: salvarEdicao,\n        className: \"modal-form\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: [\"Nome*:\", /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            value: editingMonitor.nome,\n            onChange: e => setEditingMonitor(prev => ({\n              ...prev,\n              nome: e.target.value\n            })),\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 247,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 245,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: [\"E-mail*:\", /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"email\",\n            value: editingMonitor.email,\n            onChange: e => setEditingMonitor(prev => ({\n              ...prev,\n              email: e.target.value\n            })),\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 257,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 255,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: [\"Telefone:\", /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            value: editingMonitor.telefone,\n            onChange: e => setEditingMonitor(prev => ({\n              ...prev,\n              telefone: e.target.value\n            }))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 267,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 265,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: [\"Observa\\xE7\\xE3o:\", /*#__PURE__*/_jsxDEV(\"textarea\", {\n            value: editingMonitor.observacao,\n            onChange: e => setEditingMonitor(prev => ({\n              ...prev,\n              observacao: e.target.value\n            }))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 276,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 274,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modal-actions\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            className: \"btn-secondary\",\n            onClick: fecharEdicao,\n            children: \"Cancelar\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 283,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            className: \"btn-edit\",\n            children: \"Salvar Altera\\xE7\\xF5es\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 284,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 282,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 244,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 242,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 241,\n    columnNumber: 9\n  }, this);\n};\n\n// Attach modal component to default export file scope so React can render it below\n_c2 = ModalWrapper;\nListaMonitores.ModalWrapper = ModalWrapper;\nvar _c, _c2;\n$RefreshReg$(_c, \"ListaMonitores\");\n$RefreshReg$(_c2, \"ModalWrapper\");","map":{"version":3,"names":["React","useState","useEffect","Link","getMonitors","deleteMonitor","updateMonitor","jsxDEV","_jsxDEV","ListaMonitores","_s","monitores","setMonitores","loading","setLoading","error","setError","success","setSuccess","deletingId","setDeletingId","editingMonitor","setEditingMonitor","search","setSearch","page","setPage","PAGE_SIZE","carregarMonitores","data","list","Array","isArray","arr","err","console","message","confirmarDelecao","monitor","nome","NOME","ok","window","confirm","deletarMonitor","ID_MONITOR","ID","id_monitor","id","prev","filter","m","abrirEdicao","email","EMAIL","telefone","TELEFONE","observacao","OBSERVACAO","fecharEdicao","salvarEdicao","e","preventDefault","payload","map","mid","String","NOME_FAMILIA","NOME_RESPONSAVEL","filtered","toString","toLowerCase","q","trim","includes","totalPages","Math","max","ceil","length","currentPage","min","startIndex","paged","slice","className","children","fileName","_jsxFileName","lineNumber","columnNumber","style","marginBottom","display","justifyContent","alignItems","gap","onClick","disabled","color","fontWeight","value","onChange","target","placeholder","padding","borderRadius","border","to","textAlign","margin","obs","marginTop","p","from","_","i","ModalWrapper","_c","onMouseDown","stopPropagation","onSubmit","type","required","_c2","$RefreshReg$"],"sources":["C:/Users/gusta/OneDrive/√Årea de Trabalho/CEPAS/src/pages/ListaMonitores.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport './ListaFamilias.css';\nimport { getMonitors, deleteMonitor, updateMonitor } from '../services/cepasService';\n\nconst ListaMonitores = () => {\n    const [monitores, setMonitores] = useState([]);\n    const [loading, setLoading] = useState(false);\n    const [error, setError] = useState('');\n    const [success, setSuccess] = useState('');\n    const [deletingId, setDeletingId] = useState(null);\n    const [editingMonitor, setEditingMonitor] = useState(null); // object being edited\n    const [search, setSearch] = useState('');\n    const [page, setPage] = useState(1);\n    const PAGE_SIZE = 6;\n\n    useEffect(() => {\n        carregarMonitores();\n    }, []);\n\n    const carregarMonitores = async () => {\n        setLoading(true);\n        setError('');\n        setSuccess('');\n        try {\n            const data = await getMonitors();\n            // API generic GET /api/dados/Monitor might return array or { data }\n            const list = Array.isArray(data) ? data : (data.data || data);\n            const arr = list || [];\n            setMonitores(arr);\n            // don't set success here to the total count ‚Äî keep success for operation messages\n            setSuccess('');\n        } catch (err) {\n            console.error('Erro ao carregar monitores:', err);\n            setError(`Erro ao carregar monitores: ${err.message}`);\n        } finally {\n            setLoading(false);\n        }\n    };\n\n    const confirmarDelecao = (monitor) => {\n        if (!monitor) return;\n        const nome = monitor.NOME || monitor.nome || '';\n        const ok = window.confirm(`Tem certeza que deseja deletar o monitor ${nome}?`);\n        if (ok) deletarMonitor(monitor.ID_MONITOR || monitor.ID || monitor.id_monitor);\n    };\n\n    const deletarMonitor = async (id) => {\n        if (!id) return;\n        setDeletingId(id);\n        try {\n            await deleteMonitor(id);\n            setMonitores(prev => prev.filter(m => (m.ID_MONITOR || m.ID || m.id_monitor) !== id));\n            setSuccess('Monitor exclu√≠do com sucesso');\n        } catch (err) {\n            console.error('Erro ao deletar monitor:', err);\n            setError(`Erro ao deletar monitor: ${err.message}`);\n        } finally {\n            setDeletingId(null);\n        }\n    };\n\n    const abrirEdicao = (monitor) => {\n        // normalize fields\n        const m = {\n            id: monitor.ID_MONITOR || monitor.ID || monitor.id_monitor,\n            nome: monitor.NOME || monitor.nome || '',\n            email: monitor.EMAIL || monitor.email || '',\n            telefone: monitor.TELEFONE || monitor.telefone || '',\n            observacao: monitor.OBSERVACAO || monitor.observacao || ''\n        };\n        setEditingMonitor(m);\n    };\n\n    const fecharEdicao = () => setEditingMonitor(null);\n\n    const salvarEdicao = async (e) => {\n        e.preventDefault();\n        if (!editingMonitor) return;\n        const id = editingMonitor.id;\n        const payload = {\n            nome: editingMonitor.nome,\n            telefone: editingMonitor.telefone || null,\n            email: editingMonitor.email,\n            observacao: editingMonitor.observacao || null\n        };\n        try {\n            setLoading(true);\n            await updateMonitor(id, payload);\n            // update local list\n            setMonitores(prev => prev.map(m => {\n                const mid = m.ID_MONITOR || m.ID || m.id_monitor;\n                if (String(mid) === String(id)) {\n                    return { ...m, NOME: payload.nome, NOME_FAMILIA: payload.nome, NOME_RESPONSAVEL: payload.nome, NOME: payload.nome, EMAIL: payload.email, TELEFONE: payload.telefone, OBSERVACAO: payload.observacao };\n                }\n                return m;\n            }));\n            setSuccess('Monitor atualizado com sucesso');\n            fecharEdicao();\n        } catch (err) {\n            console.error('Erro ao atualizar monitor:', err);\n            setError(`Erro ao atualizar monitor: ${err.message}`);\n        } finally {\n            setLoading(false);\n        }\n    };\n\n    // Derived filtered + paginated list\n    const filtered = monitores.filter(m => {\n        const nome = (m.NOME || m.nome || '').toString().toLowerCase();\n        const email = (m.EMAIL || m.email || '').toString().toLowerCase();\n        const q = search.trim().toLowerCase();\n        if (!q) return true;\n        return nome.includes(q) || email.includes(q) || String(m.ID_MONITOR || m.ID || m.id_monitor).includes(q);\n    });\n\n    const totalPages = Math.max(1, Math.ceil(filtered.length / PAGE_SIZE));\n    const currentPage = Math.min(page, totalPages);\n    const startIndex = (currentPage - 1) * PAGE_SIZE;\n    const paged = filtered.slice(startIndex, startIndex + PAGE_SIZE);\n\n    return (\n        <div className=\"formulario-container\">\n            <div className=\"formulario-header\">\n                <h1>üë• Lista de Monitores</h1>\n                <p>Gerencie os monitores cadastrados no sistema</p>\n            </div>\n\n            <div className=\"form-actions\" style={{ marginBottom: 16, display: 'flex', justifyContent: 'space-between', alignItems: 'center', gap: 12 }}>\n                <div style={{ display: 'flex', gap: 8, alignItems: 'center' }}>\n                    <button className=\"btn-secondary\" onClick={carregarMonitores} disabled={loading}>{loading ? 'Carregando...' : 'Recarregar Lista'}</button>\n                    <span style={{ color: '#2c3e50', fontWeight: 600 }}>{monitores.length} total</span>\n                </div>\n                <div style={{ display: 'flex', gap: 8, alignItems: 'center' }}>\n                    <input value={search} onChange={e => { setSearch(e.target.value); setPage(1); }} placeholder=\"Buscar por nome, e-mail ou ID\" style={{ padding: '8px 10px', borderRadius: 8, border: '1px solid #e6eef6' }} />\n                    <Link to=\"/cadastro-monitor\" className=\"btn-edit\">+ Adicionar Monitor</Link>\n                </div>\n            </div>\n\n            {error && <div className=\"message error\">{error}</div>}\n            {success && <div className=\"message success\">{success}</div>}\n\n            {!loading && monitores.length === 0 && (\n                <div className=\"empty-state\">\n                    <h3>üì≠ Nenhum monitor encontrado</h3>\n                    <p>N√£o h√° monitores cadastrados no sistema ainda.</p>\n                </div>\n            )}\n\n            {!loading && monitores.length > 0 && (\n                <div>\n                    {/* show filtered count and dataset info */}\n                    {(() => {\n                        const q = search.trim();\n                        return (\n                            <div style={{ textAlign: 'center', fontWeight: 600, margin: '10px 0 18px 0', color: '#2c3e50' }}>\n                                {q ? `Mostrando ${filtered.length} de ${monitores.length} (filtro: \"${search}\")` : `${filtered.length} monitor(es) encontrado(s)`}\n                            </div>\n                        );\n                    })()}\n                    <div className=\"familias-grid\">\n                        {paged.map((m) => {\n                        const id = m.ID_MONITOR || m.ID || m.id_monitor;\n                        const nome = m.NOME || m.nome || '';\n                        const email = m.EMAIL || m.email || '';\n                        const telefone = m.TELEFONE || m.telefone || '';\n                        const obs = m.OBSERVACAO || m.observacao || '';\n\n                        return (\n                            <div key={String(id)} className=\"familia-card\">\n                                <div className=\"familia-header\">\n                                    <h3>üë§ {nome || '‚Äî'}</h3>\n                                    <span className=\"familia-id\">ID: {id}</span>\n                                </div>\n\n                                <div className=\"familia-info\">\n                                    <div className=\"info-row\">\n                                        <strong>E-mail:</strong>\n                                        <span>{email || 'N√£o informado'}</span>\n                                    </div>\n                                    <div className=\"info-row\">\n                                        <strong>Telefone:</strong>\n                                        <span>{telefone || 'N√£o informado'}</span>\n                                    </div>\n                                    {obs && (\n                                        <div className=\"info-row observacoes\">\n                                            <strong>Observa√ß√£o:</strong>\n                                            <span>{obs}</span>\n                                        </div>\n                                    )}\n                                </div>\n\n                                <div className=\"familia-actions\">\n                                    <button className=\"btn-secondary\" onClick={() => abrirEdicao(m)}>\n                                        ‚úèÔ∏è Editar\n                                    </button>\n                                    <button className=\"btn-danger\" onClick={() => confirmarDelecao(m)} disabled={deletingId === id}>\n                                        {deletingId === id ? '‚è≥ Deletando...' : 'üóëÔ∏è Deletar'}\n                                    </button>\n                                </div>\n                            </div>\n                        );\n                        })}\n                    </div>\n\n                    {/* pagination controls */}\n                    {totalPages > 1 && (\n                        <div className=\"pagination\" style={{ marginTop: 18, display: 'flex', justifyContent: 'center', gap: 8 }}>\n                            <button className=\"page-button\" onClick={() => setPage(p => Math.max(1, p - 1))} disabled={currentPage === 1}>‚Äπ Prev</button>\n                            {Array.from({ length: totalPages }).map((_, i) => (\n                                <button key={i} className={`page-button ${currentPage === i+1 ? 'active' : ''}`} onClick={() => setPage(i+1)}>{i+1}</button>\n                            ))}\n                            <button className=\"page-button\" onClick={() => setPage(p => Math.min(totalPages, p + 1))} disabled={currentPage === totalPages}>Next ‚Ä∫</button>\n                        </div>\n                    )}\n                </div>\n            )}\n\n            {/* Edit modal instance (prefill + save) */}\n            {editingMonitor && <ModalWrapper editingMonitor={editingMonitor} setEditingMonitor={setEditingMonitor} salvarEdicao={salvarEdicao} fecharEdicao={fecharEdicao} />}\n        </div>\n    );\n};\n\nexport default ListaMonitores;\n\n/* Edit modal: renders when editingMonitor is non-null */\n// Note: kept at file end to avoid duplicating handlers above\n\n\n// Modal rendering (portaled inline here)\n// We add it outside the main return to keep the component structure linear.\n// It uses the same editing state and handlers defined above.\n\n/* eslint-disable react/jsx-no-useless-fragment */\n\nconst ModalWrapper = ({ editingMonitor, setEditingMonitor, salvarEdicao, fecharEdicao }) => {\n    if (!editingMonitor) return null;\n\n    return (\n        <div className=\"modal-overlay\" onMouseDown={fecharEdicao}>\n            <div className=\"modal\" onMouseDown={e => e.stopPropagation()}>\n                <h2>Editar Monitor</h2>\n                <form onSubmit={salvarEdicao} className=\"modal-form\">\n                    <label>\n                        Nome*:\n                        <input\n                            type=\"text\"\n                            value={editingMonitor.nome}\n                            onChange={e => setEditingMonitor(prev => ({ ...prev, nome: e.target.value }))}\n                            required\n                        />\n                    </label>\n\n                    <label>\n                        E-mail*:\n                        <input\n                            type=\"email\"\n                            value={editingMonitor.email}\n                            onChange={e => setEditingMonitor(prev => ({ ...prev, email: e.target.value }))}\n                            required\n                        />\n                    </label>\n\n                    <label>\n                        Telefone:\n                        <input\n                            type=\"text\"\n                            value={editingMonitor.telefone}\n                            onChange={e => setEditingMonitor(prev => ({ ...prev, telefone: e.target.value }))}\n                        />\n                    </label>\n\n                    <label>\n                        Observa√ß√£o:\n                        <textarea\n                            value={editingMonitor.observacao}\n                            onChange={e => setEditingMonitor(prev => ({ ...prev, observacao: e.target.value }))}\n                        />\n                    </label>\n\n                    <div className=\"modal-actions\">\n                        <button type=\"button\" className=\"btn-secondary\" onClick={fecharEdicao}>Cancelar</button>\n                        <button type=\"submit\" className=\"btn-edit\">Salvar Altera√ß√µes</button>\n                    </div>\n                </form>\n            </div>\n        </div>\n    );\n};\n\n// Attach modal component to default export file scope so React can render it below\nListaMonitores.ModalWrapper = ModalWrapper;\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}