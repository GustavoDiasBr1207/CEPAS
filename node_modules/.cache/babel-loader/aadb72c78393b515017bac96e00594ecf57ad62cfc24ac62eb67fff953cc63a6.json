{"ast":null,"code":"import React,{useState,useEffect,useMemo}from'react';import{useNavigate}from'react-router-dom';import{useAuth}from'../hooks/useAuth';import'../components/Formulario.css';import'./ListaFamilias.css';import Formulario from'../components/Formulario';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ListaFamilias=()=>{const{makeAuthenticatedRequest}=useAuth();const[familias,setFamilias]=useState([]);const[loading,setLoading]=useState(false);const[error,setError]=useState('');const[success,setSuccess]=useState('');const[deletingId,setDeletingId]=useState(null);const[familiaEditando,setFamiliaEditando]=useState(null);const[editLoading,setEditLoading]=useState(false);const[familiaVisualizando,setFamiliaVisualizando]=useState(null);const[viewLoadingId,setViewLoadingId]=useState(null);const[filterText,setFilterText]=useState('');const[filterStatus,setFilterStatus]=useState('all');const[filterField,setFilterField]=useState('all');const[filterBenefit,setFilterBenefit]=useState('all');const[filterPlan,setFilterPlan]=useState('all');const[filterArea,setFilterArea]=useState('all');const[filterCriancas,setFilterCriancas]=useState('all');const[filterCadastroInicio,setFilterCadastroInicio]=useState('');const[filterCadastroFim,setFilterCadastroFim]=useState('');const[filterEntrevistaInicio,setFilterEntrevistaInicio]=useState('');const[filterEntrevistaFim,setFilterEntrevistaFim]=useState('');const[filterMonitor,setFilterMonitor]=useState('');const[showAdvancedFilters,setShowAdvancedFilters]=useState(false);const[areasDisponiveis,setAreasDisponiveis]=useState([]);const navigate=useNavigate();const normalizarCodigoArea=valor=>{if(valor===null||valor===undefined)return null;const texto=\"\".concat(valor).trim();if(!texto)return null;const textoCompacto=texto.replace(/\\s+/g,'');const matchNumero=textoCompacto.match(/^0*(\\d+)$/);if(matchNumero){return\"A\".concat(parseInt(matchNumero[1],10));}const matchPrefixoA=textoCompacto.match(/^a0*(\\d+)$/i);if(matchPrefixoA){return\"A\".concat(parseInt(matchPrefixoA[1],10));}const matchPrefixoArea=textoCompacto.match(/^area0*(\\d+)$/i);if(matchPrefixoArea){return\"A\".concat(parseInt(matchPrefixoArea[1],10));}return texto;};const extrairAreaDeTexto=texto=>{if(!texto||typeof texto!=='string')return null;const matchArea=texto.match(/área\\s*[:\\-]?\\s*([a-z0-9]+)/i);if(matchArea&&matchArea[1]){return normalizarCodigoArea(matchArea[1]);}const matchCod=texto.match(/\\bA\\s*0*(\\d+)\\b/i);if(matchCod&&matchCod[1]){return\"A\".concat(parseInt(matchCod[1],10));}return null;};const limparTextoArea=valor=>{if(valor===null||valor===undefined)return null;if(typeof valor==='string'){const trimmed=valor.trim();if(!trimmed)return null;const match=trimmed.match(/^área\\s*[:\\-]?\\s*(.+)$/i);if(match&&match[1]){return normalizarCodigoArea(match[1].trim());}return normalizarCodigoArea(trimmed);}if(typeof valor==='number'){return normalizarCodigoArea(String(valor).trim());}if(typeof valor==='boolean'){return normalizarCodigoArea(valor?'1':'0');}return null;};const obterAreaIdFamilia=familia=>{var _familia$ENDERECO,_familia$ENDERECO2,_familia$endereco,_familia$endereco2,_familia$endereco3,_familia$ENDERECO3;if(!familia)return null;const candidatosId=[familia.ID_AREA,familia.id_area,familia.IDAREA,familia.idarea,(_familia$ENDERECO=familia.ENDERECO)===null||_familia$ENDERECO===void 0?void 0:_familia$ENDERECO.ID_AREA,(_familia$ENDERECO2=familia.ENDERECO)===null||_familia$ENDERECO2===void 0?void 0:_familia$ENDERECO2.id_area,(_familia$endereco=familia.endereco)===null||_familia$endereco===void 0?void 0:_familia$endereco.ID_AREA,(_familia$endereco2=familia.endereco)===null||_familia$endereco2===void 0?void 0:_familia$endereco2.id_area,(_familia$endereco3=familia.endereco)===null||_familia$endereco3===void 0?void 0:_familia$endereco3.area_id,(_familia$ENDERECO3=familia.ENDERECO)===null||_familia$ENDERECO3===void 0?void 0:_familia$ENDERECO3.area_id,familia.ENDERECO_ID_AREA,familia.endereco_id_area,familia.id_area_endereco,familia.ID_AREA_ENDERECO,familia.AREA_ID,familia.area_id];for(const candidato of candidatosId){if(candidato!==undefined&&candidato!==null&&\"\".concat(candidato).trim()!==''){return\"\".concat(candidato).trim();}}return null;};const obterAreaFamilia=familia=>{var _familia$ENDERECO4,_familia$ENDERECO5,_familia$endereco4,_familia$endereco5,_familia$ENDERECO6,_familia$ENDERECO7,_familia$endereco6,_familia$endereco7,_familia$ENDERECO8,_familia$endereco8;if(!familia)return null;const candidatos=[familia.AREA_NOME,familia.area_nome,familia.AREA_DESCRICAO,familia.area_descricao,familia.CODIGO_AREA,familia.codigo_area,familia.NOME_AREA,familia.nome_area,familia.AREA,familia.area,(_familia$ENDERECO4=familia.ENDERECO)===null||_familia$ENDERECO4===void 0?void 0:_familia$ENDERECO4.NOME_AREA,(_familia$ENDERECO5=familia.ENDERECO)===null||_familia$ENDERECO5===void 0?void 0:_familia$ENDERECO5.nome_area,(_familia$endereco4=familia.endereco)===null||_familia$endereco4===void 0?void 0:_familia$endereco4.NOME_AREA,(_familia$endereco5=familia.endereco)===null||_familia$endereco5===void 0?void 0:_familia$endereco5.nome_area,(_familia$ENDERECO6=familia.ENDERECO)===null||_familia$ENDERECO6===void 0?void 0:_familia$ENDERECO6.CODIGO_AREA,(_familia$ENDERECO7=familia.ENDERECO)===null||_familia$ENDERECO7===void 0?void 0:_familia$ENDERECO7.codigo_area,(_familia$endereco6=familia.endereco)===null||_familia$endereco6===void 0?void 0:_familia$endereco6.CODIGO_AREA,(_familia$endereco7=familia.endereco)===null||_familia$endereco7===void 0?void 0:_familia$endereco7.codigo_area];for(const candidato of candidatos){const texto=limparTextoArea(candidato);if(texto)return texto;}const idDetectado=obterAreaIdFamilia(familia);if(idDetectado){const areaCatalogo=areasDisponiveis.find(area=>{var _area$ID_AREA,_area$CODIGO_AREA;const idCatalogo=(_area$ID_AREA=area===null||area===void 0?void 0:area.ID_AREA)!==null&&_area$ID_AREA!==void 0?_area$ID_AREA:area===null||area===void 0?void 0:area.id_area;if(idCatalogo!==undefined&&idCatalogo!==null&&\"\".concat(idCatalogo).trim()===idDetectado){return true;}const codigo=(_area$CODIGO_AREA=area===null||area===void 0?void 0:area.CODIGO_AREA)!==null&&_area$CODIGO_AREA!==void 0?_area$CODIGO_AREA:area===null||area===void 0?void 0:area.codigo_area;if(codigo){var _limparTextoArea,_limparTextoArea2;return((_limparTextoArea=limparTextoArea(codigo))===null||_limparTextoArea===void 0?void 0:_limparTextoArea.toUpperCase())===((_limparTextoArea2=limparTextoArea(idDetectado))===null||_limparTextoArea2===void 0?void 0:_limparTextoArea2.toUpperCase());}return false;});if(areaCatalogo){var _ref,_ref2,_areaCatalogo$CODIGO_;const preferencia=limparTextoArea((_ref=(_ref2=(_areaCatalogo$CODIGO_=areaCatalogo.CODIGO_AREA)!==null&&_areaCatalogo$CODIGO_!==void 0?_areaCatalogo$CODIGO_:areaCatalogo.codigo_area)!==null&&_ref2!==void 0?_ref2:areaCatalogo.NOME_AREA)!==null&&_ref!==void 0?_ref:areaCatalogo.nome_area);if(preferencia)return preferencia;}return limparTextoArea(idDetectado);}const textoPotencial=[familia.ENDERECO_COMPLETO,familia.endereco_completo,(_familia$ENDERECO8=familia.ENDERECO)===null||_familia$ENDERECO8===void 0?void 0:_familia$ENDERECO8.COMPLEMENTO,(_familia$endereco8=familia.endereco)===null||_familia$endereco8===void 0?void 0:_familia$endereco8.complemento,familia.OBSERVACOES,familia.observacoes];for(const texto of textoPotencial){const areaDetectada=extrairAreaDeTexto(texto);if(areaDetectada)return areaDetectada;}return null;};const obterNomeEntrevistador=familia=>{if(!familia)return null;const candidato=familia.ENTREVISTADOR_NOME||familia.ENTREVISTADOR||familia.entrevistador_nome||familia.entrevistador||null;if(typeof candidato==='string'){const trimmed=candidato.trim();return trimmed.length>0?trimmed:null;}return candidato;};const interpretarBooleano=valor=>{if(valor===null||valor===undefined)return null;if(typeof valor==='boolean')return valor;if(typeof valor==='number')return valor!==0;if(typeof valor==='string'){const normalized=valor.trim().toLowerCase();if(['1','true','sim','s','yes','ativo'].includes(normalized))return true;if(['0','false','nao','não','n','no','inativo'].includes(normalized))return false;}if(typeof valor==='object'){if('ativa'in valor){return interpretarBooleano(valor.ativa);}}return null;};const parseDataFlex=valor=>{if(!valor)return null;if(valor instanceof Date){return Number.isNaN(valor.getTime())?null:valor;}if(typeof valor==='number'){const dataNum=new Date(valor);return Number.isNaN(dataNum.getTime())?null:dataNum;}if(typeof valor==='string'){const trimmed=valor.trim();if(!trimmed)return null;const formatoBR=/^\\d{2}\\/\\d{2}\\/\\d{4}$/;if(formatoBR.test(trimmed)){const[dia,mes,ano]=trimmed.split('/');const dataBr=new Date(\"\".concat(ano,\"-\").concat(mes,\"-\").concat(dia,\"T00:00:00\"));return Number.isNaN(dataBr.getTime())?null:dataBr;}const dataIso=new Date(trimmed);return Number.isNaN(dataIso.getTime())?null:dataIso;}return null;};const criarDataFiltro=function(valor){let fimDoDia=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;if(!valor)return null;const data=new Date(\"\".concat(valor,\"T00:00:00\"));if(Number.isNaN(data.getTime()))return null;if(fimDoDia){data.setHours(23,59,59,999);}return data;};const areaOptions=useMemo(()=>{const setAreas=new Set();let possuiSemArea=false;const adicionar=valor=>{if(!valor){possuiSemArea=true;return;}const texto=limparTextoArea(valor);if(texto)setAreas.add(texto);};areasDisponiveis.forEach(area=>{const candidatosArea=[area===null||area===void 0?void 0:area.NOME_AREA,area===null||area===void 0?void 0:area.nome_area,area===null||area===void 0?void 0:area.DESCRICAO,area===null||area===void 0?void 0:area.descricao,area===null||area===void 0?void 0:area.CODIGO_AREA,area===null||area===void 0?void 0:area.codigo_area];candidatosArea.forEach(item=>adicionar(item));});familias.forEach(familia=>{const areaNome=obterAreaFamilia(familia);if(areaNome)adicionar(areaNome);else{const idArea=obterAreaIdFamilia(familia);if(idArea)adicionar(idArea);else possuiSemArea=true;}});const lista=Array.from(setAreas).sort((a,b)=>a.localeCompare(b,'pt-BR'));if(possuiSemArea){lista.push('Sem área informada');}return lista;},[familias,areasDisponiveis]);const entrevistadorOptions=useMemo(()=>{const setMonitores=new Set();let possuiSemEntrevistador=false;familias.forEach(familia=>{const nome=obterNomeEntrevistador(familia);if(nome){setMonitores.add(nome);}else{possuiSemEntrevistador=true;}});const lista=Array.from(setMonitores).sort((a,b)=>a.localeCompare(b,'pt-BR'));if(possuiSemEntrevistador){lista.push('(Sem entrevistador)');}return lista;},[familias]);const cadastroInicioDate=useMemo(()=>criarDataFiltro(filterCadastroInicio),[filterCadastroInicio]);const cadastroFimDate=useMemo(()=>criarDataFiltro(filterCadastroFim,true),[filterCadastroFim]);const entrevistaInicioDate=useMemo(()=>criarDataFiltro(filterEntrevistaInicio),[filterEntrevistaInicio]);const entrevistaFimDate=useMemo(()=>criarDataFiltro(filterEntrevistaFim,true),[filterEntrevistaFim]);// Carrega a lista de famílias ao montar o componente\nuseEffect(()=>{carregarFamilias();carregarAreas();},[]);const carregarFamilias=async()=>{setLoading(true);setError('');try{var _data$data;console.log('📋 Carregando lista de famílias...');const data=await makeAuthenticatedRequest('/familias');console.log('✅ Famílias carregadas:',data);setFamilias(data.data||[]);setSuccess(\"\".concat(((_data$data=data.data)===null||_data$data===void 0?void 0:_data$data.length)||0,\" fam\\xEDlias encontradas\"));}catch(err){console.error('❌ Erro ao carregar famílias:',err);setError(\"Erro ao carregar fam\\xEDlias: \".concat(err.message));}finally{setLoading(false);}};const carregarAreas=async()=>{try{const resposta=await makeAuthenticatedRequest('/dados/Area');let lista=[];if(Array.isArray(resposta)){lista=resposta;}else if(resposta&&Array.isArray(resposta.data)){lista=resposta.data;}else if(resposta&&Array.isArray(resposta.value)){lista=resposta.value;}else if(resposta){lista=[resposta];}setAreasDisponiveis(lista);}catch(err){console.warn('❗ Não foi possível carregar a lista de áreas:',err);}};const confirmarDelecao=familia=>{const confirmacao=window.confirm(\"Tem certeza que deseja deletar a fam\\xEDlia \".concat(familia.NOME_FAMILIA,\"?\\n\\n\")+\"Respons\\xE1vel: \".concat(familia.NOME_RESPONSAVEL||'Não informado',\"\\n\")+\"Endere\\xE7o: \".concat(familia.ENDERECO_COMPLETO||'Não informado',\"\\n\")+\"Total de membros: \".concat(familia.TOTAL_MEMBROS||0,\"\\n\\n\")+\"\\u26A0\\uFE0F Esta a\\xE7\\xE3o ir\\xE1 remover TODOS os dados relacionados a esta fam\\xEDlia e n\\xE3o pode ser desfeita!\");if(confirmacao){deletarFamilia(familia.ID_FAMILIA);}};const deletarFamilia=async idFamilia=>{setDeletingId(idFamilia);setError('');setSuccess('');try{console.log(\"\\uD83D\\uDDD1\\uFE0F Deletando fam\\xEDlia ID: \".concat(idFamilia,\"...\"));const data=await makeAuthenticatedRequest(\"/familia/\".concat(idFamilia),{method:'DELETE'});console.log('✅ Família deletada:',data);setSuccess(\"\\u2705 \".concat(data.message));// Remove a família da lista local\nsetFamilias(familias.filter(f=>f.ID_FAMILIA!==idFamilia));}catch(err){console.error('❌ Erro ao deletar família:',err);setError(\"\\u274C Erro ao deletar fam\\xEDlia: \".concat(err.message));}finally{setDeletingId(null);}};const editarFamilia=async idFamilia=>{try{setEditLoading(true);// Buscar dados completos da família\nconst familiaCompleta=await makeAuthenticatedRequest(\"/familia/\".concat(idFamilia));setFamiliaEditando(familiaCompleta.data||familiaCompleta);}catch(err){setError(\"\\u274C Erro ao carregar dados da fam\\xEDlia: \".concat(err.message));}finally{setEditLoading(false);}};const visualizarFamilia=async idFamilia=>{setViewLoadingId(idFamilia);setError('');try{const resposta=await makeAuthenticatedRequest(\"/familia/\".concat(idFamilia));setFamiliaVisualizando(resposta.data||resposta);}catch(err){console.error('❌ Erro ao carregar detalhes da família:',err);setError(\"\\u274C Erro ao carregar detalhes da fam\\xEDlia: \".concat(err.message));}finally{setViewLoadingId(null);}};const fecharVisualizacao=()=>{setFamiliaVisualizando(null);};const handleSalvarEdicao=async dadosEditados=>{if(!familiaEditando||!familiaEditando.id_familia)return;setEditLoading(true);setError('');setSuccess('');try{const resp=await makeAuthenticatedRequest(\"/familia/\".concat(familiaEditando.id_familia),{method:'PUT',headers:{'Content-Type':'application/json'},body:JSON.stringify(dadosEditados)});setSuccess('Família editada com sucesso!');setFamiliaEditando(null);await carregarFamilias();}catch(err){setError(\"\\u274C Erro ao salvar edi\\xE7\\xE3o: \".concat(err.message));}finally{setEditLoading(false);}};const handleCancelarEdicao=()=>{setFamiliaEditando(null);};const formatarData=dataString=>{if(!dataString)return'Não informado';const data=new Date(dataString);return data.toLocaleDateString('pt-BR');};const formatarRenda=renda=>{if(!renda)return'Não informado';return\"R$ \".concat(parseFloat(renda).toLocaleString('pt-BR',{minimumFractionDigits:2}));};// Tenta extrair o nome do entrevistador do campo STATUS_ENTREVISTA quando\n// ENTREVISTADOR_NOME não estiver presente (fallback para respostas antigas)\nconst extrairEntrevistadorDeStatus=status=>{if(!status||typeof status!=='string')return null;// O backend monta STATUS_ENTREVISTA como \"✅ dd/mm/yyyy - entrevistado - entrevistador\"\n// Podemos tentar capturar o último segmento após ' - '\nconst parts=status.split(' - ').map(p=>p.trim()).filter(Boolean);if(parts.length>=2){// último segmento é provavelmente o entrevistador\nreturn parts[parts.length-1];}return null;};const handleEditarClick=idFamilia=>{navigate(\"/editar-familia/\".concat(idFamilia));};const getCampo=(obj,chaves)=>{if(!obj)return null;for(const chave of chaves){if(Object.prototype.hasOwnProperty.call(obj,chave)){const valor=obj[chave];if(valor!==undefined&&valor!==null&&valor!==''){return valor;}}}return null;};const formatarBooleano=valor=>{if(valor===1||valor===true)return'Sim';if(valor===0||valor===false)return'Não';return'Não informado';};// Filtragem local: texto e status\nconst filteredFamilias=familias.filter(f=>{var _ref3,_f$DATA_CADASTRO,_f$DATA_ENTREVISTA;const dataCadastroRegistro=parseDataFlex((_ref3=(_f$DATA_CADASTRO=f.DATA_CADASTRO)!==null&&_f$DATA_CADASTRO!==void 0?_f$DATA_CADASTRO:f.data_cadastro)!==null&&_ref3!==void 0?_ref3:f.created_at);const dataEntrevistaRegistro=parseDataFlex((_f$DATA_ENTREVISTA=f.DATA_ENTREVISTA)!==null&&_f$DATA_ENTREVISTA!==void 0?_f$DATA_ENTREVISTA:f.data_entrevista);// Texto: buscar em campos selecionados\nconst q=filterText.trim().toLowerCase();if(q){const areaReferente=obterAreaFamilia(f)||'';const entrevistador=obterNomeEntrevistador(f)||'';const statusEntrevista=f.STATUS_ENTREVISTA||f.status_entrevista||'';const origem=f.ORIGEM_COMPLETA||f.origem_completa||\"\".concat(f.MIGRACAO||'',\" \").concat(f.CIDADE_ORIGEM||'',\" \").concat(f.ESTADO_ORIGEM||'');const observacoes=f.OBSERVACOES||f.observacoes||'';const beneficioDescricao=f.STATUS_BENEFICIO||'';const planoDescricao=f.STATUS_PLANO_SAUDE||'';let hay='';switch(filterField){case'nome':hay=\"\".concat(f.NOME_FAMILIA||'');break;case'responsavel':hay=\"\".concat(f.NOME_RESPONSAVEL||'');break;case'endereco':hay=\"\".concat(f.ENDERECO_COMPLETO||'');break;case'entrevista':hay=\"\".concat(statusEntrevista,\" \").concat(entrevistador);break;case'origem':hay=\"\".concat(origem);break;case'migracao':hay=\"\".concat(f.MIGRACAO||'');break;case'observacoes':hay=\"\".concat(observacoes);break;case'beneficio':{var _f$RECEBE_BENEFICIO;const boolBeneficio=interpretarBooleano((_f$RECEBE_BENEFICIO=f.RECEBE_BENEFICIO)!==null&&_f$RECEBE_BENEFICIO!==void 0?_f$RECEBE_BENEFICIO:f.recebe_beneficio);const textoBool=boolBeneficio===true?'sim yes verdadeiro':boolBeneficio===false?'nao não no falso':'';hay=\"\".concat(beneficioDescricao,\" \").concat(textoBool);}break;case'plano':{var _f$POSSUI_PLANO_SAUDE;const boolPlano=interpretarBooleano((_f$POSSUI_PLANO_SAUDE=f.POSSUI_PLANO_SAUDE)!==null&&_f$POSSUI_PLANO_SAUDE!==void 0?_f$POSSUI_PLANO_SAUDE:f.possui_plano_saude);const textoPlano=boolPlano===true?'sim yes possui':boolPlano===false?'nao não sem':'';hay=\"\".concat(planoDescricao,\" \").concat(textoPlano);}break;case'area':hay=\"\".concat(areaReferente);break;case'entrevistador':hay=\"\".concat(entrevistador);break;default:hay=\"\".concat(f.NOME_FAMILIA||'',\" \").concat(f.NOME_RESPONSAVEL||'',\" \").concat(f.ENDERECO_COMPLETO||'',\" \").concat(statusEntrevista,\" \").concat(entrevistador,\" \").concat(origem,\" \").concat(observacoes,\" \").concat(areaReferente,\" \").concat(beneficioDescricao,\" \").concat(planoDescricao);break;}if(!hay.toLowerCase().includes(q))return false;}// Status: pendente = sem DATA_ENTREVISTA, realizada = com DATA_ENTREVISTA\nif(filterStatus==='pendente'){if(dataEntrevistaRegistro)return false;}else if(filterStatus==='realizada'){if(!dataEntrevistaRegistro)return false;}if(filterBenefit!=='all'){var _ref4,_f$RECEBE_BENEFICIO2;const temBeneficio=interpretarBooleano((_ref4=(_f$RECEBE_BENEFICIO2=f.RECEBE_BENEFICIO)!==null&&_f$RECEBE_BENEFICIO2!==void 0?_f$RECEBE_BENEFICIO2:f.recebe_beneficio)!==null&&_ref4!==void 0?_ref4:f.beneficio);if(filterBenefit==='yes'&&temBeneficio!==true)return false;if(filterBenefit==='no'&&temBeneficio!==false)return false;}if(filterPlan!=='all'){var _ref5,_f$POSSUI_PLANO_SAUDE2;const possuiPlano=interpretarBooleano((_ref5=(_f$POSSUI_PLANO_SAUDE2=f.POSSUI_PLANO_SAUDE)!==null&&_f$POSSUI_PLANO_SAUDE2!==void 0?_f$POSSUI_PLANO_SAUDE2:f.possui_plano_saude)!==null&&_ref5!==void 0?_ref5:f.plano_saude);if(filterPlan==='yes'&&possuiPlano!==true)return false;if(filterPlan==='no'&&possuiPlano!==false)return false;}if(filterCriancas!=='all'){var _ref6,_ref7,_f$CRIANCAS_ATIVAS_CE;const totalCriancas=Number((_ref6=(_ref7=(_f$CRIANCAS_ATIVAS_CE=f.CRIANCAS_ATIVAS_CEPAS)!==null&&_f$CRIANCAS_ATIVAS_CE!==void 0?_f$CRIANCAS_ATIVAS_CE:f.criancas_ativas_cepas)!==null&&_ref7!==void 0?_ref7:f.total_criancas)!==null&&_ref6!==void 0?_ref6:0);const possuiCriancas=!Number.isNaN(totalCriancas)&&totalCriancas>0;if(filterCriancas==='yes'&&!possuiCriancas)return false;if(filterCriancas==='no'&&possuiCriancas)return false;}if(filterArea!=='all'){const area=(obterAreaFamilia(f)||'Sem área informada').toString();if(area.localeCompare(filterArea,'pt-BR',{sensitivity:'base'})!==0)return false;}if(filterMonitor){const entrevistador=obterNomeEntrevistador(f);if(filterMonitor==='(Sem entrevistador)'){if(entrevistador)return false;}else{if(!entrevistador||entrevistador.localeCompare(filterMonitor,'pt-BR',{sensitivity:'base'})!==0)return false;}}if(cadastroInicioDate||cadastroFimDate){if(cadastroInicioDate&&(!dataCadastroRegistro||dataCadastroRegistro<cadastroInicioDate))return false;if(cadastroFimDate&&(!dataCadastroRegistro||dataCadastroRegistro>cadastroFimDate))return false;}if(entrevistaInicioDate||entrevistaFimDate){if(entrevistaInicioDate&&(!dataEntrevistaRegistro||dataEntrevistaRegistro<entrevistaInicioDate))return false;if(entrevistaFimDate&&(!dataEntrevistaRegistro||dataEntrevistaRegistro>entrevistaFimDate))return false;}return true;});return/*#__PURE__*/_jsxs(\"div\",{className:\"formulario-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"formulario-header\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"\\uD83D\\uDCCB Lista de Fam\\xEDlias Cadastradas\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Gerencie as fam\\xEDlias cadastradas no sistema\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-actions\",style:{marginBottom:'20px'},children:[/*#__PURE__*/_jsxs(\"button\",{onClick:carregarFamilias,disabled:loading,className:\"btn-secondary\",children:[\"\\uD83D\\uDD04 \",loading?'Carregando...':'Recarregar Lista']}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-filters\",style:{display:'flex',gap:'8px',marginLeft:'12px',alignItems:'center',background:'#fbfbfb',padding:'6px',borderRadius:'6px',border:'1px solid #eee'},children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:filterField==='all'?'Pesquisar nome, responsável, endereço ou entrevista...':filterField==='nome'?'Pesquisar por nome da família...':filterField==='responsavel'?'Pesquisar por responsável...':filterField==='entrevista'?'Pesquisar por status/entrevistador...':filterField==='endereco'?'Pesquisar por endereço...':filterField==='origem'?'Pesquisar por cidade/estado de origem...':filterField==='migracao'?'Pesquisar por dados de migração...':filterField==='observacoes'?'Pesquisar por observações...':filterField==='beneficio'?'Pesquisar por informações de benefício...':filterField==='plano'?'Pesquisar por plano de saúde...':filterField==='area'?'Pesquisar por área...':filterField==='entrevistador'?'Pesquisar por entrevistador...':'Pesquisar...',value:filterText,onChange:e=>setFilterText(e.target.value),style:{padding:'8px 10px',borderRadius:'6px',border:'1px solid #ddd',minWidth:'260px'},\"aria-label\":\"Campo de pesquisa\"}),/*#__PURE__*/_jsxs(\"select\",{value:filterField,onChange:e=>setFilterField(e.target.value),style:{padding:'8px 10px',borderRadius:'6px',border:'1px solid #ddd'},\"aria-label\":\"Campo para pesquisar em\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"all\",children:\"Pesquisar em: Todos\"}),/*#__PURE__*/_jsx(\"option\",{value:\"nome\",children:\"Nome da fam\\xEDlia\"}),/*#__PURE__*/_jsx(\"option\",{value:\"responsavel\",children:\"Respons\\xE1vel\"}),/*#__PURE__*/_jsx(\"option\",{value:\"endereco\",children:\"Endere\\xE7o\"}),/*#__PURE__*/_jsx(\"option\",{value:\"entrevista\",children:\"Entrevista\"}),/*#__PURE__*/_jsx(\"option\",{value:\"origem\",children:\"Origem\"}),/*#__PURE__*/_jsx(\"option\",{value:\"migracao\",children:\"Migra\\xE7\\xE3o\"}),/*#__PURE__*/_jsx(\"option\",{value:\"observacoes\",children:\"Observa\\xE7\\xF5es\"}),/*#__PURE__*/_jsx(\"option\",{value:\"beneficio\",children:\"Benef\\xEDcio social\"}),/*#__PURE__*/_jsx(\"option\",{value:\"plano\",children:\"Plano de sa\\xFAde\"}),/*#__PURE__*/_jsx(\"option\",{value:\"area\",children:\"\\xC1rea\"}),/*#__PURE__*/_jsx(\"option\",{value:\"entrevistador\",children:\"Entrevistador\"})]}),/*#__PURE__*/_jsxs(\"select\",{value:filterStatus,onChange:e=>setFilterStatus(e.target.value),style:{padding:'8px 10px',borderRadius:'6px',border:'1px solid #ddd'},\"aria-label\":\"Filtro por status da entrevista\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"all\",children:\"Todos os status\"}),/*#__PURE__*/_jsx(\"option\",{value:\"pendente\",children:\"Entrevista pendente\"}),/*#__PURE__*/_jsx(\"option\",{value:\"realizada\",children:\"Entrevista realizada\"})]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{setFilterText('');setFilterField('all');setFilterStatus('all');setFilterBenefit('all');setFilterPlan('all');setFilterArea('all');setFilterCriancas('all');setFilterCadastroInicio('');setFilterCadastroFim('');setFilterEntrevistaInicio('');setFilterEntrevistaFim('');setFilterMonitor('');},title:\"Limpar filtros\",style:{padding:'8px 12px',borderRadius:'6px',border:'1px solid #ddd',background:'#fff',cursor:'pointer'},children:\"\\u2716 Limpar\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowAdvancedFilters(prev=>!prev),type:\"button\",className:\"btn-toggle-filters\",\"aria-expanded\":showAdvancedFilters,\"aria-controls\":\"advanced-filters-panel\",children:showAdvancedFilters?'⬆ Ocultar filtros avançados':'⬇ Filtros avançados'})]})]}),showAdvancedFilters&&/*#__PURE__*/_jsxs(\"div\",{className:\"advanced-filters\",role:\"region\",\"aria-label\":\"Filtros avan\\xE7ados\",id:\"advanced-filters-panel\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"advanced-filter-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"filtro-beneficio\",children:\"Benef\\xEDcio Social\"}),/*#__PURE__*/_jsxs(\"select\",{id:\"filtro-beneficio\",value:filterBenefit,onChange:e=>setFilterBenefit(e.target.value),children:[/*#__PURE__*/_jsx(\"option\",{value:\"all\",children:\"Todos\"}),/*#__PURE__*/_jsx(\"option\",{value:\"yes\",children:\"Recebe benef\\xEDcio\"}),/*#__PURE__*/_jsx(\"option\",{value:\"no\",children:\"N\\xE3o recebe\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"advanced-filter-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"filtro-plano\",children:\"Plano de Sa\\xFAde\"}),/*#__PURE__*/_jsxs(\"select\",{id:\"filtro-plano\",value:filterPlan,onChange:e=>setFilterPlan(e.target.value),children:[/*#__PURE__*/_jsx(\"option\",{value:\"all\",children:\"Todos\"}),/*#__PURE__*/_jsx(\"option\",{value:\"yes\",children:\"Possui plano\"}),/*#__PURE__*/_jsx(\"option\",{value:\"no\",children:\"Sem plano\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"advanced-filter-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"filtro-criancas\",children:\"Crian\\xE7as CEPAS\"}),/*#__PURE__*/_jsxs(\"select\",{id:\"filtro-criancas\",value:filterCriancas,onChange:e=>setFilterCriancas(e.target.value),children:[/*#__PURE__*/_jsx(\"option\",{value:\"all\",children:\"Todos\"}),/*#__PURE__*/_jsx(\"option\",{value:\"yes\",children:\"Possui crian\\xE7a ativa\"}),/*#__PURE__*/_jsx(\"option\",{value:\"no\",children:\"Sem crian\\xE7a ativa\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"advanced-filter-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"filtro-area\",children:\"\\xC1rea\"}),/*#__PURE__*/_jsxs(\"select\",{id:\"filtro-area\",value:filterArea,onChange:e=>setFilterArea(e.target.value),children:[/*#__PURE__*/_jsx(\"option\",{value:\"all\",children:\"Todas\"}),areaOptions.map(area=>/*#__PURE__*/_jsx(\"option\",{value:area,children:area},area))]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"advanced-filter-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"filtro-monitor\",children:\"Entrevistador / Monitor\"}),/*#__PURE__*/_jsxs(\"select\",{id:\"filtro-monitor\",value:filterMonitor,onChange:e=>setFilterMonitor(e.target.value),children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Todos\"}),entrevistadorOptions.map(monitor=>/*#__PURE__*/_jsx(\"option\",{value:monitor,children:monitor},monitor))]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"advanced-filter-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Data Cadastro (in\\xEDcio)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",value:filterCadastroInicio,onChange:e=>setFilterCadastroInicio(e.target.value)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"advanced-filter-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Data Cadastro (fim)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",value:filterCadastroFim,onChange:e=>setFilterCadastroFim(e.target.value)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"advanced-filter-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Data Entrevista (in\\xEDcio)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",value:filterEntrevistaInicio,onChange:e=>setFilterEntrevistaInicio(e.target.value)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"advanced-filter-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Data Entrevista (fim)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",value:filterEntrevistaFim,onChange:e=>setFilterEntrevistaFim(e.target.value)})]})]}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"message error\",children:error}),success&&/*#__PURE__*/_jsx(\"div\",{className:\"message success\",children:success}),loading&&/*#__PURE__*/_jsx(\"div\",{className:\"loading-message\",children:\"\\u23F3 Carregando fam\\xEDlias...\"}),familiaEditando&&/*#__PURE__*/_jsxs(\"div\",{className:\"modal-edicao\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Editar Fam\\xEDlia\"}),/*#__PURE__*/_jsx(Formulario,{modoEdicao:true,dadosIniciais:familiaEditando,onSave:handleSalvarEdicao,disabled:editLoading}),/*#__PURE__*/_jsx(\"button\",{className:\"btn-secondary\",onClick:handleCancelarEdicao,disabled:editLoading,style:{marginTop:'15px'},children:\"Cancelar\"})]}),!loading&&familias.length===0&&/*#__PURE__*/_jsxs(\"div\",{className:\"empty-state\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"\\uD83D\\uDCED Nenhuma fam\\xEDlia encontrada\"}),/*#__PURE__*/_jsx(\"p\",{children:\"N\\xE3o h\\xE1 fam\\xEDlias cadastradas no sistema ainda.\"})]}),!loading&&familias.length>0&&filteredFamilias.length===0&&/*#__PURE__*/_jsxs(\"div\",{className:\"empty-state\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"\\uD83D\\uDD0E Nenhuma fam\\xEDlia corresponde aos filtros\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Altere o texto de busca ou o status para encontrar fam\\xEDlias.\"})]}),!loading&&filteredFamilias.length>0&&/*#__PURE__*/_jsx(\"div\",{className:\"familias-grid\",children:filteredFamilias.map(familia=>/*#__PURE__*/_jsxs(\"div\",{className:\"familia-card\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"familia-header\",children:[/*#__PURE__*/_jsxs(\"h3\",{children:[\"\\uD83D\\uDC68\\u200D\\uD83D\\uDC69\\u200D\\uD83D\\uDC67\\u200D\\uD83D\\uDC66 \",familia.NOME_FAMILIA]}),/*#__PURE__*/_jsxs(\"span\",{className:\"familia-id\",children:[\"ID: \",familia.ID_FAMILIA]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"familia-info\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"info-row\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Respons\\xE1vel:\"}),/*#__PURE__*/_jsx(\"span\",{children:familia.NOME_RESPONSAVEL||'Não informado'})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-row\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"\\uD83D\\uDCDE Contato:\"}),/*#__PURE__*/_jsx(\"span\",{children:familia.TELEFONE_CONTATO||familia.CONTATO||'Não informado'})]}),(()=>{// Preferência: ENTREVISTADOR_NOME (campo explícito)\nconst entrevistadorExpl=familia.ENTREVISTADOR_NOME||familia.ENTREVISTADOR||null;// Fallback: tentar extrair do STATUS_ENTREVISTA\nconst entrevistadorFbd=entrevistadorExpl?null:extrairEntrevistadorDeStatus(familia.STATUS_ENTREVISTA||familia.STATUS_ENTREVISTA);const entrevistadorFinal=entrevistadorExpl||entrevistadorFbd;if(entrevistadorFinal){return/*#__PURE__*/_jsxs(\"div\",{className:\"info-row\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"\\uD83C\\uDFA4 Entrevistador:\"}),/*#__PURE__*/_jsx(\"span\",{children:entrevistadorFinal})]});}return null;})(),/*#__PURE__*/_jsxs(\"div\",{className:\"info-row\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"\\uD83C\\uDFAF Crian\\xE7as CEPAS:\"}),/*#__PURE__*/_jsx(\"span\",{style:{color:familia.CRIANCAS_ATIVAS_CEPAS>0?'#27ae60':'#7f8c8d',fontWeight:familia.CRIANCAS_ATIVAS_CEPAS>0?'bold':'normal'},children:familia.CRIANCAS_ATIVAS_CEPAS>0?\"\".concat(familia.CRIANCAS_ATIVAS_CEPAS,\" crian\\xE7a(s) ativa(s)\"):'Nenhuma'})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-row\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"\\uD83D\\uDC65 Membros:\"}),/*#__PURE__*/_jsx(\"span\",{children:familia.COMPOSICAO_FAMILIAR||\"\".concat(familia.TOTAL_MEMBROS||0,\" pessoa(s)\")})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-row\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Benef\\xEDcio Social:\"}),/*#__PURE__*/_jsx(\"span\",{style:{color:familia.RECEBE_BENEFICIO?'#27ae60':'#e74c3c',fontWeight:'bold'},children:familia.STATUS_BENEFICIO||(familia.RECEBE_BENEFICIO?'✅ Recebe':'❌ Não recebe')})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-row\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Plano de Sa\\xFAde:\"}),/*#__PURE__*/_jsxs(\"span\",{style:{color:familia.POSSUI_PLANO_SAUDE?'#27ae60':'#e74c3c'},children:[familia.STATUS_PLANO_SAUDE||(familia.POSSUI_PLANO_SAUDE?'✅ Possui':'❌ Não possui'),familia.CONVENIO&&\" (\".concat(familia.CONVENIO,\")\")]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-row\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"\\uD83C\\uDFE0 Habita\\xE7\\xE3o:\"}),/*#__PURE__*/_jsx(\"span\",{children:familia.CONDICOES_HABITACAO||'Não informado'})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-row\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"\\uD83D\\uDCCD Endere\\xE7o:\"}),/*#__PURE__*/_jsx(\"span\",{children:familia.ENDERECO_COMPLETO||'Não informado'})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-row\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"\\uD83D\\uDDFA\\uFE0F Origem:\"}),/*#__PURE__*/_jsx(\"span\",{children:familia.ORIGEM_COMPLETA||'Não informado'})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-row\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"\\uD83C\\uDFA4 Entrevista:\"}),/*#__PURE__*/_jsx(\"span\",{children:familia.STATUS_ENTREVISTA||'Não realizada'})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-row\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"\\uD83D\\uDCC5 Cadastrado em:\"}),/*#__PURE__*/_jsx(\"span\",{children:formatarData(familia.DATA_CADASTRO)})]}),familia.OBSERVACOES&&/*#__PURE__*/_jsxs(\"div\",{className:\"info-row observacoes\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"\\uD83D\\uDCDD Observa\\xE7\\xF5es:\"}),/*#__PURE__*/_jsx(\"span\",{children:familia.OBSERVACOES.length>100?familia.OBSERVACOES.substring(0,100)+'...':familia.OBSERVACOES})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"status-badges\",children:[familia.CRIANCAS_ATIVAS_CEPAS>0&&/*#__PURE__*/_jsx(\"span\",{className:\"badge badge-cepas\",children:\"\\uD83C\\uDFAF CEPAS ATIVO\"}),familia.RECEBE_BENEFICIO&&/*#__PURE__*/_jsx(\"span\",{className:\"badge badge-beneficio\",children:\"\\uD83D\\uDCB0 BENEF\\xCDCIO\"}),!familia.DATA_ENTREVISTA&&/*#__PURE__*/_jsx(\"span\",{className:\"badge badge-pendente\",children:\"\\u23F3 ENTREVISTA PENDENTE\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"familia-actions\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>visualizarFamilia(familia.ID_FAMILIA),disabled:viewLoadingId===familia.ID_FAMILIA,className:\"btn-view\",children:viewLoadingId===familia.ID_FAMILIA?'👁️ Abrindo...':'👁️ Ver'}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleEditarClick(familia.ID_FAMILIA),disabled:deletingId===familia.ID_FAMILIA,className:\"btn-edit\",children:\"\\u270F\\uFE0F Editar\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>confirmarDelecao(familia),disabled:deletingId===familia.ID_FAMILIA,className:\"btn-danger\",children:deletingId===familia.ID_FAMILIA?'⏳ Deletando...':'🗑️ Deletar'})]})]},familia.ID_FAMILIA))}),familiaVisualizando&&/*#__PURE__*/_jsx(\"div\",{className:\"modal-overlay\",role:\"dialog\",\"aria-modal\":\"true\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"modal modal-view\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Detalhes da Fam\\xEDlia\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"view-subtitle\",children:[\"ID: \",getCampo(familiaVisualizando,['id_familia','ID_FAMILIA'])||'N/I']}),/*#__PURE__*/_jsxs(\"div\",{className:\"view-section\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Dados Gerais\"}),/*#__PURE__*/_jsxs(\"ul\",{children:[/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Nome:\"}),\" \",getCampo(familiaVisualizando,['nome_familia','NOME_FAMILIA'])||'Não informado']}),/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Respons\\xE1vel:\"}),\" \",getCampo(familiaVisualizando,['nome_responsavel','NOME_RESPONSAVEL'])||'Não informado']}),/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Contato:\"}),\" \",getCampo(familiaVisualizando,['telefone_contato','contato','TELEFONE_CONTATO','CONTATO'])||'Não informado']}),/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Data de Cadastro:\"}),\" \",formatarData(getCampo(familiaVisualizando,['data_cadastro','DATA_CADASTRO']))]}),/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Recebe Benef\\xEDcio:\"}),\" \",formatarBooleano(getCampo(familiaVisualizando,['recebe_beneficio','RECEBE_BENEFICIO']))]}),/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Possui Plano de Sa\\xFAde:\"}),\" \",formatarBooleano(getCampo(familiaVisualizando,['possui_plano_saude','POSSUI_PLANO_SAUDE']))]}),getCampo(familiaVisualizando,['convenio','CONVENIO'])&&/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Conv\\xEAnio:\"}),\" \",getCampo(familiaVisualizando,['convenio','CONVENIO'])]}),getCampo(familiaVisualizando,['observacoes','OBSERVACOES'])&&/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Observa\\xE7\\xF5es:\"}),\" \",getCampo(familiaVisualizando,['observacoes','OBSERVACOES'])]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"view-section\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Endere\\xE7o\"}),(()=>{const endereco=getCampo(familiaVisualizando,['endereco','ENDERECO'])||{};return/*#__PURE__*/_jsxs(\"ul\",{children:[/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"\\xC1rea:\"}),\" \",getCampo(endereco,['nome_area','NOME_AREA'])||getCampo(endereco,['id_area','ID_AREA'])||'Não informado']}),/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Quadra:\"}),\" \",getCampo(endereco,['quadra','QUADRA'])||'Não informado']}),/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Rua:\"}),\" \",getCampo(endereco,['rua','RUA'])||'Não informado']}),/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"N\\xFAmero:\"}),\" \",getCampo(endereco,['numero_casa','NUMERO_CASA'])||'Não informado']}),getCampo(endereco,['complemento','COMPLEMENTO'])&&/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Complemento:\"}),\" \",getCampo(endereco,['complemento','COMPLEMENTO'])]})]});})()]}),/*#__PURE__*/_jsxs(\"div\",{className:\"view-section\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Estrutura da Habita\\xE7\\xE3o\"}),(()=>{const estrutura=getCampo(familiaVisualizando,['estrutura','estrutura_habitacao','ESTRUTURA'])||{};return/*#__PURE__*/_jsxs(\"ul\",{children:[/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Tipo de Habita\\xE7\\xE3o:\"}),\" \",getCampo(estrutura,['tipo_habitacao','TIPO_HABITACAO'])||'Não informado']}),/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Tipo de Lote:\"}),\" \",getCampo(estrutura,['tipo_lote','TIPO_LOTE'])||'Não informado']}),/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Conviv\\xEAncia:\"}),\" \",getCampo(estrutura,['situacao_convivencia','SITUACAO_CONVIVENCIA'])||'Não informado']}),/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Energia El\\xE9trica:\"}),\" \",formatarBooleano(getCampo(estrutura,['energia_eletrica','ENERGIA_ELETRICA']))]}),/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Material Parede:\"}),\" \",getCampo(estrutura,['material_parede','MATERIAL_PAREDE'])||'Não informado']}),/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Material Piso:\"}),\" \",getCampo(estrutura,['material_piso','MATERIAL_PISO'])||'Não informado']}),/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Material Cobertura:\"}),\" \",getCampo(estrutura,['material_cobertura','MATERIAL_COBERTURA'])||'Não informado']}),/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Quartos:\"}),\" \",getCampo(estrutura,['qtd_quartos','QTD_QUARTOS'])||'Não informado']}),/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Camas:\"}),\" \",getCampo(estrutura,['qtd_camas','QTD_CAMAS'])||'Não informado']}),getCampo(estrutura,['tipo_camas','TIPO_CAMAS'])&&/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Tipo de Camas:\"}),\" \",getCampo(estrutura,['tipo_camas','TIPO_CAMAS'])]})]});})()]}),/*#__PURE__*/_jsxs(\"div\",{className:\"view-split\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"view-section\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Animais\"}),(()=>{const animal=getCampo(familiaVisualizando,['animal','ANIMAL'])||{};return/*#__PURE__*/_jsxs(\"ul\",{children:[/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Possui Animais:\"}),\" \",formatarBooleano(getCampo(animal,['tem_animal','TEM_ANIMAL']))]}),getCampo(animal,['qtd_animais','QTD_ANIMAIS'])&&/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Quantidade:\"}),\" \",getCampo(animal,['qtd_animais','QTD_ANIMAIS'])]}),getCampo(animal,['qual_animal','QUAL_ANIMAL'])&&/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Tipos:\"}),\" \",getCampo(animal,['qual_animal','QUAL_ANIMAL'])]})]});})()]}),/*#__PURE__*/_jsxs(\"div\",{className:\"view-section\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Saneamento\"}),(()=>{const saneamento=getCampo(familiaVisualizando,['saneamento','RECURSO_SANEAMENTO'])||{};return/*#__PURE__*/_jsxs(\"ul\",{children:[/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Horta:\"}),\" \",formatarBooleano(getCampo(saneamento,['horta','HORTA']))]}),/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"\\xC1rvore Frut\\xEDfera:\"}),\" \",formatarBooleano(getCampo(saneamento,['arvore_frutifera','ARVORE_FRUTIFERA']))]}),/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Banheiro:\"}),\" \",formatarBooleano(getCampo(saneamento,['tem_banheiro','TEM_BANHEIRO']))]}),/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Esgotamento:\"}),\" \",getCampo(saneamento,['como_escoa','COMO_ESCOA'])||'Não informado']}),/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Destino do Lixo:\"}),\" \",getCampo(saneamento,['dest_lixo','DEST_LIXO'])||'Não informado']}),/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Consumo de \\xC1gua:\"}),\" \",getCampo(saneamento,['bebe_agua','BEBE_AGUA'])||'Não informado']}),/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Tratamento da \\xC1gua:\"}),\" \",getCampo(saneamento,['trata_agua','TRATA_AGUA'])||'Não informado']})]});})()]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"view-section\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Entrevista\"}),(()=>{const entrevista=getCampo(familiaVisualizando,['entrevista','ENTREVISTA'])||{};return/*#__PURE__*/_jsxs(\"ul\",{children:[/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Entrevistado:\"}),\" \",getCampo(entrevista,['entrevistado','ENTREVISTADO'])||'Não informado']}),/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Data:\"}),\" \",formatarData(getCampo(entrevista,['data_entrevista','DATA_ENTREVISTA']))]}),/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Entrevistador:\"}),\" \",getCampo(entrevista,['entrevistador_nome','ENTREVISTADOR_NOME','entrevistador','ENTREVISTADOR'])||'Não informado']}),/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Contato:\"}),\" \",getCampo(entrevista,['telefone_contato','TELEFONE_CONTATO'])||'Não informado']}),getCampo(entrevista,['observacoes','OBSERVACOES'])&&/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Observa\\xE7\\xF5es:\"}),\" \",getCampo(entrevista,['observacoes','OBSERVACOES'])]})]});})()]}),/*#__PURE__*/_jsxs(\"div\",{className:\"view-section\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Membros da Fam\\xEDlia\"}),(()=>{const membros=getCampo(familiaVisualizando,['membros','MEMBROS']);if(!Array.isArray(membros)||membros.length===0){return/*#__PURE__*/_jsx(\"p\",{children:\"Nenhum membro cadastrado.\"});}return/*#__PURE__*/_jsx(\"ul\",{className:\"view-membros\",children:membros.map((membro,index)=>{const chave=membro.id_membro||membro.ID_MEMBRO||membro.membro_id||index;const criancaCepasValor=getCampo(membro,['crianca_cepas','CRIANCA_CEPAS']);const participaCepas=(()=>{if(!criancaCepasValor)return false;if(typeof criancaCepasValor==='object'){return criancaCepasValor.ativa===1||criancaCepasValor.ativa===true;}return criancaCepasValor===1||criancaCepasValor===true;})();return/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"membro-nome\",children:getCampo(membro,['nome','NOME'])||'Sem nome'}),/*#__PURE__*/_jsxs(\"span\",{className:\"membro-detalhe\",children:[\"Rela\\xE7\\xE3o: \",getCampo(membro,['relacao','RELACAO'])||'N/I']}),getCampo(membro,['sexo','SEXO'])&&/*#__PURE__*/_jsxs(\"span\",{className:\"membro-detalhe\",children:[\"Sexo: \",getCampo(membro,['sexo','SEXO'])]}),getCampo(membro,['data_nascimento','DATA_NASCIMENTO'])&&/*#__PURE__*/_jsxs(\"span\",{className:\"membro-detalhe\",children:[\"Nascimento: \",formatarData(getCampo(membro,['data_nascimento','DATA_NASCIMENTO']))]}),getCampo(membro,['ocupacao','OCUPACAO'])&&/*#__PURE__*/_jsxs(\"span\",{className:\"membro-detalhe\",children:[\"Ocupa\\xE7\\xE3o: \",getCampo(membro,['ocupacao','OCUPACAO'])]}),participaCepas&&/*#__PURE__*/_jsx(\"span\",{className:\"membro-tag\",children:\"\\uD83C\\uDFAF CEPAS\"})]},chave);})});})()]}),/*#__PURE__*/_jsx(\"div\",{className:\"modal-actions\",children:/*#__PURE__*/_jsx(\"button\",{className:\"btn-secondary\",onClick:fecharVisualizacao,children:\"Fechar\"})})]})})]});};export default ListaFamilias;","map":{"version":3,"names":["React","useState","useEffect","useMemo","useNavigate","useAuth","Formulario","jsx","_jsx","jsxs","_jsxs","ListaFamilias","makeAuthenticatedRequest","familias","setFamilias","loading","setLoading","error","setError","success","setSuccess","deletingId","setDeletingId","familiaEditando","setFamiliaEditando","editLoading","setEditLoading","familiaVisualizando","setFamiliaVisualizando","viewLoadingId","setViewLoadingId","filterText","setFilterText","filterStatus","setFilterStatus","filterField","setFilterField","filterBenefit","setFilterBenefit","filterPlan","setFilterPlan","filterArea","setFilterArea","filterCriancas","setFilterCriancas","filterCadastroInicio","setFilterCadastroInicio","filterCadastroFim","setFilterCadastroFim","filterEntrevistaInicio","setFilterEntrevistaInicio","filterEntrevistaFim","setFilterEntrevistaFim","filterMonitor","setFilterMonitor","showAdvancedFilters","setShowAdvancedFilters","areasDisponiveis","setAreasDisponiveis","navigate","normalizarCodigoArea","valor","undefined","texto","concat","trim","textoCompacto","replace","matchNumero","match","parseInt","matchPrefixoA","matchPrefixoArea","extrairAreaDeTexto","matchArea","matchCod","limparTextoArea","trimmed","String","obterAreaIdFamilia","familia","_familia$ENDERECO","_familia$ENDERECO2","_familia$endereco","_familia$endereco2","_familia$endereco3","_familia$ENDERECO3","candidatosId","ID_AREA","id_area","IDAREA","idarea","ENDERECO","endereco","area_id","ENDERECO_ID_AREA","endereco_id_area","id_area_endereco","ID_AREA_ENDERECO","AREA_ID","candidato","obterAreaFamilia","_familia$ENDERECO4","_familia$ENDERECO5","_familia$endereco4","_familia$endereco5","_familia$ENDERECO6","_familia$ENDERECO7","_familia$endereco6","_familia$endereco7","_familia$ENDERECO8","_familia$endereco8","candidatos","AREA_NOME","area_nome","AREA_DESCRICAO","area_descricao","CODIGO_AREA","codigo_area","NOME_AREA","nome_area","AREA","area","idDetectado","areaCatalogo","find","_area$ID_AREA","_area$CODIGO_AREA","idCatalogo","codigo","_limparTextoArea","_limparTextoArea2","toUpperCase","_ref","_ref2","_areaCatalogo$CODIGO_","preferencia","textoPotencial","ENDERECO_COMPLETO","endereco_completo","COMPLEMENTO","complemento","OBSERVACOES","observacoes","areaDetectada","obterNomeEntrevistador","ENTREVISTADOR_NOME","ENTREVISTADOR","entrevistador_nome","entrevistador","length","interpretarBooleano","normalized","toLowerCase","includes","ativa","parseDataFlex","Date","Number","isNaN","getTime","dataNum","formatoBR","test","dia","mes","ano","split","dataBr","dataIso","criarDataFiltro","fimDoDia","arguments","data","setHours","areaOptions","setAreas","Set","possuiSemArea","adicionar","add","forEach","candidatosArea","DESCRICAO","descricao","item","areaNome","idArea","lista","Array","from","sort","a","b","localeCompare","push","entrevistadorOptions","setMonitores","possuiSemEntrevistador","nome","cadastroInicioDate","cadastroFimDate","entrevistaInicioDate","entrevistaFimDate","carregarFamilias","carregarAreas","_data$data","console","log","err","message","resposta","isArray","value","warn","confirmarDelecao","confirmacao","window","confirm","NOME_FAMILIA","NOME_RESPONSAVEL","TOTAL_MEMBROS","deletarFamilia","ID_FAMILIA","idFamilia","method","filter","f","editarFamilia","familiaCompleta","visualizarFamilia","fecharVisualizacao","handleSalvarEdicao","dadosEditados","id_familia","resp","headers","body","JSON","stringify","handleCancelarEdicao","formatarData","dataString","toLocaleDateString","formatarRenda","renda","parseFloat","toLocaleString","minimumFractionDigits","extrairEntrevistadorDeStatus","status","parts","map","p","Boolean","handleEditarClick","getCampo","obj","chaves","chave","Object","prototype","hasOwnProperty","call","formatarBooleano","filteredFamilias","_ref3","_f$DATA_CADASTRO","_f$DATA_ENTREVISTA","dataCadastroRegistro","DATA_CADASTRO","data_cadastro","created_at","dataEntrevistaRegistro","DATA_ENTREVISTA","data_entrevista","q","areaReferente","statusEntrevista","STATUS_ENTREVISTA","status_entrevista","origem","ORIGEM_COMPLETA","origem_completa","MIGRACAO","CIDADE_ORIGEM","ESTADO_ORIGEM","beneficioDescricao","STATUS_BENEFICIO","planoDescricao","STATUS_PLANO_SAUDE","hay","_f$RECEBE_BENEFICIO","boolBeneficio","RECEBE_BENEFICIO","recebe_beneficio","textoBool","_f$POSSUI_PLANO_SAUDE","boolPlano","POSSUI_PLANO_SAUDE","possui_plano_saude","textoPlano","_ref4","_f$RECEBE_BENEFICIO2","temBeneficio","beneficio","_ref5","_f$POSSUI_PLANO_SAUDE2","possuiPlano","plano_saude","_ref6","_ref7","_f$CRIANCAS_ATIVAS_CE","totalCriancas","CRIANCAS_ATIVAS_CEPAS","criancas_ativas_cepas","total_criancas","possuiCriancas","toString","sensitivity","className","children","style","marginBottom","onClick","disabled","display","gap","marginLeft","alignItems","background","padding","borderRadius","border","type","placeholder","onChange","e","target","minWidth","title","cursor","prev","role","id","htmlFor","monitor","modoEdicao","dadosIniciais","onSave","marginTop","TELEFONE_CONTATO","CONTATO","entrevistadorExpl","entrevistadorFbd","entrevistadorFinal","color","fontWeight","COMPOSICAO_FAMILIAR","CONVENIO","CONDICOES_HABITACAO","substring","estrutura","animal","saneamento","entrevista","membros","membro","index","id_membro","ID_MEMBRO","membro_id","criancaCepasValor","participaCepas"],"sources":["/home/gustavodias/Downloads/CEPAS/src/pages/ListaFamilias.js"],"sourcesContent":["import React, { useState, useEffect, useMemo } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { useAuth } from '../hooks/useAuth';\r\nimport '../components/Formulario.css';\r\nimport './ListaFamilias.css';\r\nimport Formulario from '../components/Formulario';\r\n\r\nconst ListaFamilias = () => {\r\n    const { makeAuthenticatedRequest } = useAuth();\r\n    const [familias, setFamilias] = useState([]);\r\n    const [loading, setLoading] = useState(false);\r\n    const [error, setError] = useState('');\r\n    const [success, setSuccess] = useState('');\r\n    const [deletingId, setDeletingId] = useState(null);\r\n    const [familiaEditando, setFamiliaEditando] = useState(null);\r\n    const [editLoading, setEditLoading] = useState(false);\r\n    const [familiaVisualizando, setFamiliaVisualizando] = useState(null);\r\n    const [viewLoadingId, setViewLoadingId] = useState(null);\r\n    const [filterText, setFilterText] = useState('');\r\n    const [filterStatus, setFilterStatus] = useState('all');\r\n    const [filterField, setFilterField] = useState('all');\r\n    const [filterBenefit, setFilterBenefit] = useState('all');\r\n    const [filterPlan, setFilterPlan] = useState('all');\r\n    const [filterArea, setFilterArea] = useState('all');\r\n    const [filterCriancas, setFilterCriancas] = useState('all');\r\n    const [filterCadastroInicio, setFilterCadastroInicio] = useState('');\r\n    const [filterCadastroFim, setFilterCadastroFim] = useState('');\r\n    const [filterEntrevistaInicio, setFilterEntrevistaInicio] = useState('');\r\n    const [filterEntrevistaFim, setFilterEntrevistaFim] = useState('');\r\n    const [filterMonitor, setFilterMonitor] = useState('');\r\n    const [showAdvancedFilters, setShowAdvancedFilters] = useState(false);\r\n    const [areasDisponiveis, setAreasDisponiveis] = useState([]);\r\n\r\n    const navigate = useNavigate();\r\n\r\n    const normalizarCodigoArea = (valor) => {\r\n        if (valor === null || valor === undefined) return null;\r\n        const texto = `${valor}`.trim();\r\n        if (!texto) return null;\r\n\r\n        const textoCompacto = texto.replace(/\\s+/g, '');\r\n\r\n        const matchNumero = textoCompacto.match(/^0*(\\d+)$/);\r\n        if (matchNumero) {\r\n            return `A${parseInt(matchNumero[1], 10)}`;\r\n        }\r\n\r\n        const matchPrefixoA = textoCompacto.match(/^a0*(\\d+)$/i);\r\n        if (matchPrefixoA) {\r\n            return `A${parseInt(matchPrefixoA[1], 10)}`;\r\n        }\r\n\r\n        const matchPrefixoArea = textoCompacto.match(/^area0*(\\d+)$/i);\r\n        if (matchPrefixoArea) {\r\n            return `A${parseInt(matchPrefixoArea[1], 10)}`;\r\n        }\r\n\r\n        return texto;\r\n    };\r\n\r\n    const extrairAreaDeTexto = (texto) => {\r\n        if (!texto || typeof texto !== 'string') return null;\r\n        const matchArea = texto.match(/área\\s*[:\\-]?\\s*([a-z0-9]+)/i);\r\n        if (matchArea && matchArea[1]) {\r\n            return normalizarCodigoArea(matchArea[1]);\r\n        }\r\n\r\n        const matchCod = texto.match(/\\bA\\s*0*(\\d+)\\b/i);\r\n        if (matchCod && matchCod[1]) {\r\n            return `A${parseInt(matchCod[1], 10)}`;\r\n        }\r\n\r\n        return null;\r\n    };\r\n\r\n    const limparTextoArea = (valor) => {\r\n        if (valor === null || valor === undefined) return null;\r\n        if (typeof valor === 'string') {\r\n            const trimmed = valor.trim();\r\n            if (!trimmed) return null;\r\n            const match = trimmed.match(/^área\\s*[:\\-]?\\s*(.+)$/i);\r\n            if (match && match[1]) {\r\n                return normalizarCodigoArea(match[1].trim());\r\n            }\r\n            return normalizarCodigoArea(trimmed);\r\n        }\r\n        if (typeof valor === 'number') {\r\n            return normalizarCodigoArea(String(valor).trim());\r\n        }\r\n        if (typeof valor === 'boolean') {\r\n            return normalizarCodigoArea(valor ? '1' : '0');\r\n        }\r\n        return null;\r\n    };\r\n\r\n    const obterAreaIdFamilia = (familia) => {\r\n        if (!familia) return null;\r\n        const candidatosId = [\r\n            familia.ID_AREA,\r\n            familia.id_area,\r\n            familia.IDAREA,\r\n            familia.idarea,\r\n            familia.ENDERECO?.ID_AREA,\r\n            familia.ENDERECO?.id_area,\r\n            familia.endereco?.ID_AREA,\r\n            familia.endereco?.id_area,\r\n            familia.endereco?.area_id,\r\n            familia.ENDERECO?.area_id,\r\n            familia.ENDERECO_ID_AREA,\r\n            familia.endereco_id_area,\r\n            familia.id_area_endereco,\r\n            familia.ID_AREA_ENDERECO,\r\n            familia.AREA_ID,\r\n            familia.area_id\r\n        ];\r\n        for (const candidato of candidatosId) {\r\n            if (candidato !== undefined && candidato !== null && `${candidato}`.trim() !== '') {\r\n                return `${candidato}`.trim();\r\n            }\r\n        }\r\n        return null;\r\n    };\r\n\r\n    const obterAreaFamilia = (familia) => {\r\n        if (!familia) return null;\r\n        const candidatos = [\r\n            familia.AREA_NOME,\r\n            familia.area_nome,\r\n            familia.AREA_DESCRICAO,\r\n            familia.area_descricao,\r\n            familia.CODIGO_AREA,\r\n            familia.codigo_area,\r\n            familia.NOME_AREA,\r\n            familia.nome_area,\r\n            familia.AREA,\r\n            familia.area,\r\n            familia.ENDERECO?.NOME_AREA,\r\n            familia.ENDERECO?.nome_area,\r\n            familia.endereco?.NOME_AREA,\r\n            familia.endereco?.nome_area,\r\n            familia.ENDERECO?.CODIGO_AREA,\r\n            familia.ENDERECO?.codigo_area,\r\n            familia.endereco?.CODIGO_AREA,\r\n            familia.endereco?.codigo_area\r\n        ];\r\n        for (const candidato of candidatos) {\r\n            const texto = limparTextoArea(candidato);\r\n            if (texto) return texto;\r\n        }\r\n\r\n        const idDetectado = obterAreaIdFamilia(familia);\r\n        if (idDetectado) {\r\n            const areaCatalogo = areasDisponiveis.find((area) => {\r\n                const idCatalogo = area?.ID_AREA ?? area?.id_area;\r\n                if (idCatalogo !== undefined && idCatalogo !== null && `${idCatalogo}`.trim() === idDetectado) {\r\n                    return true;\r\n                }\r\n                const codigo = area?.CODIGO_AREA ?? area?.codigo_area;\r\n                if (codigo) {\r\n                    return limparTextoArea(codigo)?.toUpperCase() === limparTextoArea(idDetectado)?.toUpperCase();\r\n                }\r\n                return false;\r\n            });\r\n            if (areaCatalogo) {\r\n                const preferencia = limparTextoArea(\r\n                    areaCatalogo.CODIGO_AREA ??\r\n                    areaCatalogo.codigo_area ??\r\n                    areaCatalogo.NOME_AREA ??\r\n                    areaCatalogo.nome_area\r\n                );\r\n                if (preferencia) return preferencia;\r\n            }\r\n            return limparTextoArea(idDetectado);\r\n        }\r\n\r\n        const textoPotencial = [\r\n            familia.ENDERECO_COMPLETO,\r\n            familia.endereco_completo,\r\n            familia.ENDERECO?.COMPLEMENTO,\r\n            familia.endereco?.complemento,\r\n            familia.OBSERVACOES,\r\n            familia.observacoes\r\n        ];\r\n        for (const texto of textoPotencial) {\r\n            const areaDetectada = extrairAreaDeTexto(texto);\r\n            if (areaDetectada) return areaDetectada;\r\n        }\r\n\r\n        return null;\r\n    };\r\n\r\n    const obterNomeEntrevistador = (familia) => {\r\n        if (!familia) return null;\r\n        const candidato = familia.ENTREVISTADOR_NOME || familia.ENTREVISTADOR || familia.entrevistador_nome || familia.entrevistador || null;\r\n        if (typeof candidato === 'string') {\r\n            const trimmed = candidato.trim();\r\n            return trimmed.length > 0 ? trimmed : null;\r\n        }\r\n        return candidato;\r\n    };\r\n\r\n    const interpretarBooleano = (valor) => {\r\n        if (valor === null || valor === undefined) return null;\r\n        if (typeof valor === 'boolean') return valor;\r\n        if (typeof valor === 'number') return valor !== 0;\r\n        if (typeof valor === 'string') {\r\n            const normalized = valor.trim().toLowerCase();\r\n            if (['1', 'true', 'sim', 's', 'yes', 'ativo'].includes(normalized)) return true;\r\n            if (['0', 'false', 'nao', 'não', 'n', 'no', 'inativo'].includes(normalized)) return false;\r\n        }\r\n        if (typeof valor === 'object') {\r\n            if ('ativa' in valor) {\r\n                return interpretarBooleano(valor.ativa);\r\n            }\r\n        }\r\n        return null;\r\n    };\r\n\r\n    const parseDataFlex = (valor) => {\r\n        if (!valor) return null;\r\n        if (valor instanceof Date) {\r\n            return Number.isNaN(valor.getTime()) ? null : valor;\r\n        }\r\n        if (typeof valor === 'number') {\r\n            const dataNum = new Date(valor);\r\n            return Number.isNaN(dataNum.getTime()) ? null : dataNum;\r\n        }\r\n        if (typeof valor === 'string') {\r\n            const trimmed = valor.trim();\r\n            if (!trimmed) return null;\r\n            const formatoBR = /^\\d{2}\\/\\d{2}\\/\\d{4}$/;\r\n            if (formatoBR.test(trimmed)) {\r\n                const [dia, mes, ano] = trimmed.split('/');\r\n                const dataBr = new Date(`${ano}-${mes}-${dia}T00:00:00`);\r\n                return Number.isNaN(dataBr.getTime()) ? null : dataBr;\r\n            }\r\n            const dataIso = new Date(trimmed);\r\n            return Number.isNaN(dataIso.getTime()) ? null : dataIso;\r\n        }\r\n        return null;\r\n    };\r\n\r\n    const criarDataFiltro = (valor, fimDoDia = false) => {\r\n        if (!valor) return null;\r\n        const data = new Date(`${valor}T00:00:00`);\r\n        if (Number.isNaN(data.getTime())) return null;\r\n        if (fimDoDia) {\r\n            data.setHours(23, 59, 59, 999);\r\n        }\r\n        return data;\r\n    };\r\n\r\n    const areaOptions = useMemo(() => {\r\n        const setAreas = new Set();\r\n        let possuiSemArea = false;\r\n\r\n        const adicionar = (valor) => {\r\n            if (!valor) {\r\n                possuiSemArea = true;\r\n                return;\r\n            }\r\n            const texto = limparTextoArea(valor);\r\n            if (texto) setAreas.add(texto);\r\n        };\r\n\r\n        areasDisponiveis.forEach((area) => {\r\n            const candidatosArea = [\r\n                area?.NOME_AREA,\r\n                area?.nome_area,\r\n                area?.DESCRICAO,\r\n                area?.descricao,\r\n                area?.CODIGO_AREA,\r\n                area?.codigo_area\r\n            ];\r\n            candidatosArea.forEach((item) => adicionar(item));\r\n        });\r\n\r\n        familias.forEach((familia) => {\r\n            const areaNome = obterAreaFamilia(familia);\r\n            if (areaNome) adicionar(areaNome);\r\n            else {\r\n                const idArea = obterAreaIdFamilia(familia);\r\n                if (idArea) adicionar(idArea);\r\n                else possuiSemArea = true;\r\n            }\r\n        });\r\n\r\n        const lista = Array.from(setAreas).sort((a, b) => a.localeCompare(b, 'pt-BR'));\r\n        if (possuiSemArea) {\r\n            lista.push('Sem área informada');\r\n        }\r\n        return lista;\r\n    }, [familias, areasDisponiveis]);\r\n\r\n    const entrevistadorOptions = useMemo(() => {\r\n        const setMonitores = new Set();\r\n        let possuiSemEntrevistador = false;\r\n        familias.forEach((familia) => {\r\n            const nome = obterNomeEntrevistador(familia);\r\n            if (nome) {\r\n                setMonitores.add(nome);\r\n            } else {\r\n                possuiSemEntrevistador = true;\r\n            }\r\n        });\r\n        const lista = Array.from(setMonitores).sort((a, b) => a.localeCompare(b, 'pt-BR'));\r\n        if (possuiSemEntrevistador) {\r\n            lista.push('(Sem entrevistador)');\r\n        }\r\n        return lista;\r\n    }, [familias]);\r\n\r\n    const cadastroInicioDate = useMemo(() => criarDataFiltro(filterCadastroInicio), [filterCadastroInicio]);\r\n    const cadastroFimDate = useMemo(() => criarDataFiltro(filterCadastroFim, true), [filterCadastroFim]);\r\n    const entrevistaInicioDate = useMemo(() => criarDataFiltro(filterEntrevistaInicio), [filterEntrevistaInicio]);\r\n    const entrevistaFimDate = useMemo(() => criarDataFiltro(filterEntrevistaFim, true), [filterEntrevistaFim]);\r\n\r\n    // Carrega a lista de famílias ao montar o componente\r\n    useEffect(() => {\r\n        carregarFamilias();\r\n        carregarAreas();\r\n    }, []);\r\n\r\n    const carregarFamilias = async () => {\r\n        setLoading(true);\r\n        setError('');\r\n        \r\n        try {\r\n            console.log('📋 Carregando lista de famílias...');\r\n            const data = await makeAuthenticatedRequest('/familias');\r\n\r\n            console.log('✅ Famílias carregadas:', data);\r\n            \r\n            setFamilias(data.data || []);\r\n            setSuccess(`${data.data?.length || 0} famílias encontradas`);\r\n            \r\n        } catch (err) {\r\n            console.error('❌ Erro ao carregar famílias:', err);\r\n            setError(`Erro ao carregar famílias: ${err.message}`);\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    const carregarAreas = async () => {\r\n        try {\r\n            const resposta = await makeAuthenticatedRequest('/dados/Area');\r\n            let lista = [];\r\n            if (Array.isArray(resposta)) {\r\n                lista = resposta;\r\n            } else if (resposta && Array.isArray(resposta.data)) {\r\n                lista = resposta.data;\r\n            } else if (resposta && Array.isArray(resposta.value)) {\r\n                lista = resposta.value;\r\n            } else if (resposta) {\r\n                lista = [resposta];\r\n            }\r\n            setAreasDisponiveis(lista);\r\n        } catch (err) {\r\n            console.warn('❗ Não foi possível carregar a lista de áreas:', err);\r\n        }\r\n    };\r\n\r\n    const confirmarDelecao = (familia) => {\r\n        const confirmacao = window.confirm(\r\n            `Tem certeza que deseja deletar a família ${familia.NOME_FAMILIA}?\\n\\n` +\r\n            `Responsável: ${familia.NOME_RESPONSAVEL || 'Não informado'}\\n` +\r\n            `Endereço: ${familia.ENDERECO_COMPLETO || 'Não informado'}\\n` +\r\n            `Total de membros: ${familia.TOTAL_MEMBROS || 0}\\n\\n` +\r\n            `⚠️ Esta ação irá remover TODOS os dados relacionados a esta família e não pode ser desfeita!`\r\n        );\r\n        \r\n        if (confirmacao) {\r\n            deletarFamilia(familia.ID_FAMILIA);\r\n        }\r\n    };\r\n\r\n    const deletarFamilia = async (idFamilia) => {\r\n        setDeletingId(idFamilia);\r\n        setError('');\r\n        setSuccess('');\r\n        \r\n        try {\r\n            console.log(`🗑️ Deletando família ID: ${idFamilia}...`);\r\n            const data = await makeAuthenticatedRequest(`/familia/${idFamilia}`, {\r\n                method: 'DELETE'\r\n            });\r\n\r\n            console.log('✅ Família deletada:', data);\r\n            setSuccess(`✅ ${data.message}`);\r\n            \r\n            // Remove a família da lista local\r\n            setFamilias(familias.filter(f => f.ID_FAMILIA !== idFamilia));\r\n            \r\n        } catch (err) {\r\n            console.error('❌ Erro ao deletar família:', err);\r\n            setError(`❌ Erro ao deletar família: ${err.message}`);\r\n        } finally {\r\n            setDeletingId(null);\r\n        }\r\n    };\r\n\r\n    const editarFamilia = async (idFamilia) => {\r\n        try {\r\n            setEditLoading(true);\r\n            // Buscar dados completos da família\r\n            const familiaCompleta = await makeAuthenticatedRequest(`/familia/${idFamilia}`);\r\n            setFamiliaEditando(familiaCompleta.data || familiaCompleta);\r\n        } catch (err) {\r\n            setError(`❌ Erro ao carregar dados da família: ${err.message}`);\r\n        } finally {\r\n            setEditLoading(false);\r\n        }\r\n    };\r\n\r\n    const visualizarFamilia = async (idFamilia) => {\r\n        setViewLoadingId(idFamilia);\r\n        setError('');\r\n        try {\r\n            const resposta = await makeAuthenticatedRequest(`/familia/${idFamilia}`);\r\n            setFamiliaVisualizando(resposta.data || resposta);\r\n        } catch (err) {\r\n            console.error('❌ Erro ao carregar detalhes da família:', err);\r\n            setError(`❌ Erro ao carregar detalhes da família: ${err.message}`);\r\n        } finally {\r\n            setViewLoadingId(null);\r\n        }\r\n    };\r\n\r\n    const fecharVisualizacao = () => {\r\n        setFamiliaVisualizando(null);\r\n    };\r\n\r\n    const handleSalvarEdicao = async (dadosEditados) => {\r\n        if (!familiaEditando || !familiaEditando.id_familia) return;\r\n        setEditLoading(true);\r\n        setError('');\r\n        setSuccess('');\r\n        try {\r\n            const resp = await makeAuthenticatedRequest(`/familia/${familiaEditando.id_familia}`, {\r\n                method: 'PUT',\r\n                headers: {\r\n                    'Content-Type': 'application/json'\r\n                },\r\n                body: JSON.stringify(dadosEditados)\r\n            });\r\n            setSuccess('Família editada com sucesso!');\r\n            setFamiliaEditando(null);\r\n            await carregarFamilias();\r\n        } catch (err) {\r\n            setError(`❌ Erro ao salvar edição: ${err.message}`);\r\n        } finally {\r\n            setEditLoading(false);\r\n        }\r\n    };\r\n\r\n    const handleCancelarEdicao = () => {\r\n        setFamiliaEditando(null);\r\n    };\r\n\r\n    const formatarData = (dataString) => {\r\n        if (!dataString) return 'Não informado';\r\n        const data = new Date(dataString);\r\n        return data.toLocaleDateString('pt-BR');\r\n    };\r\n\r\n    const formatarRenda = (renda) => {\r\n        if (!renda) return 'Não informado';\r\n        return `R$ ${parseFloat(renda).toLocaleString('pt-BR', { minimumFractionDigits: 2 })}`;\r\n    };\r\n\r\n    // Tenta extrair o nome do entrevistador do campo STATUS_ENTREVISTA quando\r\n    // ENTREVISTADOR_NOME não estiver presente (fallback para respostas antigas)\r\n    const extrairEntrevistadorDeStatus = (status) => {\r\n        if (!status || typeof status !== 'string') return null;\r\n        // O backend monta STATUS_ENTREVISTA como \"✅ dd/mm/yyyy - entrevistado - entrevistador\"\r\n        // Podemos tentar capturar o último segmento após ' - '\r\n        const parts = status.split(' - ').map(p => p.trim()).filter(Boolean);\r\n        if (parts.length >= 2) {\r\n            // último segmento é provavelmente o entrevistador\r\n            return parts[parts.length - 1];\r\n        }\r\n        return null;\r\n    };\r\n\r\n    const handleEditarClick = (idFamilia) => {\r\n        navigate(`/editar-familia/${idFamilia}`);\r\n    };\r\n\r\n    const getCampo = (obj, chaves) => {\r\n        if (!obj) return null;\r\n        for (const chave of chaves) {\r\n            if (Object.prototype.hasOwnProperty.call(obj, chave)) {\r\n                const valor = obj[chave];\r\n                if (valor !== undefined && valor !== null && valor !== '') {\r\n                    return valor;\r\n                }\r\n            }\r\n        }\r\n        return null;\r\n    };\r\n\r\n    const formatarBooleano = (valor) => {\r\n        if (valor === 1 || valor === true) return 'Sim';\r\n        if (valor === 0 || valor === false) return 'Não';\r\n        return 'Não informado';\r\n    };\r\n\r\n    // Filtragem local: texto e status\r\n    const filteredFamilias = familias.filter((f) => {\r\n        const dataCadastroRegistro = parseDataFlex(f.DATA_CADASTRO ?? f.data_cadastro ?? f.created_at);\r\n        const dataEntrevistaRegistro = parseDataFlex(f.DATA_ENTREVISTA ?? f.data_entrevista);\r\n\r\n        // Texto: buscar em campos selecionados\r\n        const q = filterText.trim().toLowerCase();\r\n        if (q) {\r\n            const areaReferente = obterAreaFamilia(f) || '';\r\n            const entrevistador = obterNomeEntrevistador(f) || '';\r\n            const statusEntrevista = f.STATUS_ENTREVISTA || f.status_entrevista || '';\r\n            const origem = f.ORIGEM_COMPLETA || f.origem_completa || `${f.MIGRACAO || ''} ${f.CIDADE_ORIGEM || ''} ${f.ESTADO_ORIGEM || ''}`;\r\n            const observacoes = f.OBSERVACOES || f.observacoes || '';\r\n            const beneficioDescricao = f.STATUS_BENEFICIO || '';\r\n            const planoDescricao = f.STATUS_PLANO_SAUDE || '';\r\n\r\n            let hay = '';\r\n            switch (filterField) {\r\n                case 'nome':\r\n                    hay = `${f.NOME_FAMILIA || ''}`;\r\n                    break;\r\n                case 'responsavel':\r\n                    hay = `${f.NOME_RESPONSAVEL || ''}`;\r\n                    break;\r\n                case 'endereco':\r\n                    hay = `${f.ENDERECO_COMPLETO || ''}`;\r\n                    break;\r\n                case 'entrevista':\r\n                    hay = `${statusEntrevista} ${entrevistador}`;\r\n                    break;\r\n                case 'origem':\r\n                    hay = `${origem}`;\r\n                    break;\r\n                case 'migracao':\r\n                    hay = `${f.MIGRACAO || ''}`;\r\n                    break;\r\n                case 'observacoes':\r\n                    hay = `${observacoes}`;\r\n                    break;\r\n                case 'beneficio':\r\n                    {\r\n                        const boolBeneficio = interpretarBooleano(f.RECEBE_BENEFICIO ?? f.recebe_beneficio);\r\n                        const textoBool = boolBeneficio === true\r\n                            ? 'sim yes verdadeiro'\r\n                            : boolBeneficio === false\r\n                                ? 'nao não no falso'\r\n                                : '';\r\n                        hay = `${beneficioDescricao} ${textoBool}`;\r\n                    }\r\n                    break;\r\n                case 'plano':\r\n                    {\r\n                        const boolPlano = interpretarBooleano(f.POSSUI_PLANO_SAUDE ?? f.possui_plano_saude);\r\n                        const textoPlano = boolPlano === true\r\n                            ? 'sim yes possui'\r\n                            : boolPlano === false\r\n                                ? 'nao não sem'\r\n                                : '';\r\n                        hay = `${planoDescricao} ${textoPlano}`;\r\n                    }\r\n                    break;\r\n                case 'area':\r\n                    hay = `${areaReferente}`;\r\n                    break;\r\n                case 'entrevistador':\r\n                    hay = `${entrevistador}`;\r\n                    break;\r\n                default:\r\n                    hay = `${f.NOME_FAMILIA || ''} ${f.NOME_RESPONSAVEL || ''} ${f.ENDERECO_COMPLETO || ''} ${statusEntrevista} ${entrevistador} ${origem} ${observacoes} ${areaReferente} ${beneficioDescricao} ${planoDescricao}`;\r\n                    break;\r\n            }\r\n\r\n            if (!hay.toLowerCase().includes(q)) return false;\r\n        }\r\n\r\n        // Status: pendente = sem DATA_ENTREVISTA, realizada = com DATA_ENTREVISTA\r\n        if (filterStatus === 'pendente') {\r\n            if (dataEntrevistaRegistro) return false;\r\n        } else if (filterStatus === 'realizada') {\r\n            if (!dataEntrevistaRegistro) return false;\r\n        }\r\n\r\n        if (filterBenefit !== 'all') {\r\n            const temBeneficio = interpretarBooleano(f.RECEBE_BENEFICIO ?? f.recebe_beneficio ?? f.beneficio);\r\n            if (filterBenefit === 'yes' && temBeneficio !== true) return false;\r\n            if (filterBenefit === 'no' && temBeneficio !== false) return false;\r\n        }\r\n\r\n        if (filterPlan !== 'all') {\r\n            const possuiPlano = interpretarBooleano(f.POSSUI_PLANO_SAUDE ?? f.possui_plano_saude ?? f.plano_saude);\r\n            if (filterPlan === 'yes' && possuiPlano !== true) return false;\r\n            if (filterPlan === 'no' && possuiPlano !== false) return false;\r\n        }\r\n\r\n        if (filterCriancas !== 'all') {\r\n            const totalCriancas = Number(f.CRIANCAS_ATIVAS_CEPAS ?? f.criancas_ativas_cepas ?? f.total_criancas ?? 0);\r\n            const possuiCriancas = !Number.isNaN(totalCriancas) && totalCriancas > 0;\r\n            if (filterCriancas === 'yes' && !possuiCriancas) return false;\r\n            if (filterCriancas === 'no' && possuiCriancas) return false;\r\n        }\r\n\r\n        if (filterArea !== 'all') {\r\n            const area = (obterAreaFamilia(f) || 'Sem área informada').toString();\r\n            if (area.localeCompare(filterArea, 'pt-BR', { sensitivity: 'base' }) !== 0) return false;\r\n        }\r\n\r\n        if (filterMonitor) {\r\n            const entrevistador = obterNomeEntrevistador(f);\r\n            if (filterMonitor === '(Sem entrevistador)') {\r\n                if (entrevistador) return false;\r\n            } else {\r\n                if (!entrevistador || entrevistador.localeCompare(filterMonitor, 'pt-BR', { sensitivity: 'base' }) !== 0) return false;\r\n            }\r\n        }\r\n\r\n        if (cadastroInicioDate || cadastroFimDate) {\r\n            if (cadastroInicioDate && (!dataCadastroRegistro || dataCadastroRegistro < cadastroInicioDate)) return false;\r\n            if (cadastroFimDate && (!dataCadastroRegistro || dataCadastroRegistro > cadastroFimDate)) return false;\r\n        }\r\n\r\n        if (entrevistaInicioDate || entrevistaFimDate) {\r\n            if (entrevistaInicioDate && (!dataEntrevistaRegistro || dataEntrevistaRegistro < entrevistaInicioDate)) return false;\r\n            if (entrevistaFimDate && (!dataEntrevistaRegistro || dataEntrevistaRegistro > entrevistaFimDate)) return false;\r\n        }\r\n\r\n        return true;\r\n    });\r\n\r\n    return (\r\n        <div className=\"formulario-container\">\r\n            <div className=\"formulario-header\">\r\n                <h1>📋 Lista de Famílias Cadastradas</h1>\r\n                <p>Gerencie as famílias cadastradas no sistema</p>\r\n            </div>\r\n\r\n            {/* Botão de recarregar */}\r\n            <div className=\"form-actions\" style={{ marginBottom: '20px' }}>\r\n                <button \r\n                    onClick={carregarFamilias}\r\n                    disabled={loading}\r\n                    className=\"btn-secondary\"\r\n                >\r\n                    🔄 {loading ? 'Carregando...' : 'Recarregar Lista'}\r\n                </button>\r\n                {/* Filtros: busca por texto e status da entrevista */}\r\n                <div\r\n                    className=\"form-filters\"\r\n                    style={{\r\n                        display: 'flex',\r\n                        gap: '8px',\r\n                        marginLeft: '12px',\r\n                        alignItems: 'center',\r\n                        background: '#fbfbfb',\r\n                        padding: '6px',\r\n                        borderRadius: '6px',\r\n                        border: '1px solid #eee'\r\n                    }}\r\n                >\r\n                    <input\r\n                        type=\"text\"\r\n                        placeholder={\r\n                            filterField === 'all' ? 'Pesquisar nome, responsável, endereço ou entrevista...' :\r\n                            filterField === 'nome' ? 'Pesquisar por nome da família...' :\r\n                            filterField === 'responsavel' ? 'Pesquisar por responsável...' :\r\n                            filterField === 'entrevista' ? 'Pesquisar por status/entrevistador...' :\r\n                            filterField === 'endereco' ? 'Pesquisar por endereço...' :\r\n                            filterField === 'origem' ? 'Pesquisar por cidade/estado de origem...' :\r\n                            filterField === 'migracao' ? 'Pesquisar por dados de migração...' :\r\n                            filterField === 'observacoes' ? 'Pesquisar por observações...' :\r\n                            filterField === 'beneficio' ? 'Pesquisar por informações de benefício...' :\r\n                            filterField === 'plano' ? 'Pesquisar por plano de saúde...' :\r\n                            filterField === 'area' ? 'Pesquisar por área...' :\r\n                            filterField === 'entrevistador' ? 'Pesquisar por entrevistador...' :\r\n                            'Pesquisar...'\r\n                        }\r\n                        value={filterText}\r\n                        onChange={(e) => setFilterText(e.target.value)}\r\n                        style={{ padding: '8px 10px', borderRadius: '6px', border: '1px solid #ddd', minWidth: '260px' }}\r\n                        aria-label=\"Campo de pesquisa\"\r\n                    />\r\n\r\n                    <select value={filterField} onChange={(e) => setFilterField(e.target.value)} style={{ padding: '8px 10px', borderRadius: '6px', border: '1px solid #ddd' }} aria-label=\"Campo para pesquisar em\">\r\n                        <option value=\"all\">Pesquisar em: Todos</option>\r\n                        <option value=\"nome\">Nome da família</option>\r\n                        <option value=\"responsavel\">Responsável</option>\r\n                        <option value=\"endereco\">Endereço</option>\r\n                        <option value=\"entrevista\">Entrevista</option>\r\n                        <option value=\"origem\">Origem</option>\r\n                        <option value=\"migracao\">Migração</option>\r\n                        <option value=\"observacoes\">Observações</option>\r\n                        <option value=\"beneficio\">Benefício social</option>\r\n                        <option value=\"plano\">Plano de saúde</option>\r\n                        <option value=\"area\">Área</option>\r\n                        <option value=\"entrevistador\">Entrevistador</option>\r\n                    </select>\r\n\r\n                    <select value={filterStatus} onChange={(e) => setFilterStatus(e.target.value)} style={{ padding: '8px 10px', borderRadius: '6px', border: '1px solid #ddd' }} aria-label=\"Filtro por status da entrevista\">\r\n                        <option value=\"all\">Todos os status</option>\r\n                        <option value=\"pendente\">Entrevista pendente</option>\r\n                        <option value=\"realizada\">Entrevista realizada</option>\r\n                    </select>\r\n\r\n                    <button\r\n                        onClick={() => {\r\n                            setFilterText('');\r\n                            setFilterField('all');\r\n                            setFilterStatus('all');\r\n                            setFilterBenefit('all');\r\n                            setFilterPlan('all');\r\n                            setFilterArea('all');\r\n                            setFilterCriancas('all');\r\n                            setFilterCadastroInicio('');\r\n                            setFilterCadastroFim('');\r\n                            setFilterEntrevistaInicio('');\r\n                            setFilterEntrevistaFim('');\r\n                            setFilterMonitor('');\r\n                        }}\r\n                        title=\"Limpar filtros\"\r\n                        style={{\r\n                            padding: '8px 12px',\r\n                            borderRadius: '6px',\r\n                            border: '1px solid #ddd',\r\n                            background: '#fff',\r\n                            cursor: 'pointer'\r\n                        }}\r\n                    >\r\n                        ✖ Limpar\r\n                    </button>\r\n\r\n                    <button\r\n                        onClick={() => setShowAdvancedFilters((prev) => !prev)}\r\n                        type=\"button\"\r\n                        className=\"btn-toggle-filters\"\r\n                        aria-expanded={showAdvancedFilters}\r\n                        aria-controls=\"advanced-filters-panel\"\r\n                    >\r\n                        {showAdvancedFilters ? '⬆ Ocultar filtros avançados' : '⬇ Filtros avançados'}\r\n                    </button>\r\n                </div>\r\n            </div>\r\n\r\n            {showAdvancedFilters && (\r\n                <div\r\n                    className=\"advanced-filters\"\r\n                    role=\"region\"\r\n                    aria-label=\"Filtros avançados\"\r\n                    id=\"advanced-filters-panel\"\r\n                >\r\n                    <div className=\"advanced-filter-group\">\r\n                        <label htmlFor=\"filtro-beneficio\">Benefício Social</label>\r\n                        <select\r\n                            id=\"filtro-beneficio\"\r\n                            value={filterBenefit}\r\n                            onChange={(e) => setFilterBenefit(e.target.value)}\r\n                        >\r\n                            <option value=\"all\">Todos</option>\r\n                            <option value=\"yes\">Recebe benefício</option>\r\n                            <option value=\"no\">Não recebe</option>\r\n                        </select>\r\n                    </div>\r\n\r\n                    <div className=\"advanced-filter-group\">\r\n                        <label htmlFor=\"filtro-plano\">Plano de Saúde</label>\r\n                        <select\r\n                            id=\"filtro-plano\"\r\n                            value={filterPlan}\r\n                            onChange={(e) => setFilterPlan(e.target.value)}\r\n                        >\r\n                            <option value=\"all\">Todos</option>\r\n                            <option value=\"yes\">Possui plano</option>\r\n                            <option value=\"no\">Sem plano</option>\r\n                        </select>\r\n                    </div>\r\n\r\n                    <div className=\"advanced-filter-group\">\r\n                        <label htmlFor=\"filtro-criancas\">Crianças CEPAS</label>\r\n                        <select\r\n                            id=\"filtro-criancas\"\r\n                            value={filterCriancas}\r\n                            onChange={(e) => setFilterCriancas(e.target.value)}\r\n                        >\r\n                            <option value=\"all\">Todos</option>\r\n                            <option value=\"yes\">Possui criança ativa</option>\r\n                            <option value=\"no\">Sem criança ativa</option>\r\n                        </select>\r\n                    </div>\r\n\r\n                    <div className=\"advanced-filter-group\">\r\n                        <label htmlFor=\"filtro-area\">Área</label>\r\n                        <select\r\n                            id=\"filtro-area\"\r\n                            value={filterArea}\r\n                            onChange={(e) => setFilterArea(e.target.value)}\r\n                        >\r\n                            <option value=\"all\">Todas</option>\r\n                            {areaOptions.map((area) => (\r\n                                <option key={area} value={area}>{area}</option>\r\n                            ))}\r\n                        </select>\r\n                    </div>\r\n\r\n                    <div className=\"advanced-filter-group\">\r\n                        <label htmlFor=\"filtro-monitor\">Entrevistador / Monitor</label>\r\n                        <select\r\n                            id=\"filtro-monitor\"\r\n                            value={filterMonitor}\r\n                            onChange={(e) => setFilterMonitor(e.target.value)}\r\n                        >\r\n                            <option value=\"\">Todos</option>\r\n                            {entrevistadorOptions.map((monitor) => (\r\n                                <option key={monitor} value={monitor}>{monitor}</option>\r\n                            ))}\r\n                        </select>\r\n                    </div>\r\n\r\n                    <div className=\"advanced-filter-group\">\r\n                        <label>Data Cadastro (início)</label>\r\n                        <input\r\n                            type=\"date\"\r\n                            value={filterCadastroInicio}\r\n                            onChange={(e) => setFilterCadastroInicio(e.target.value)}\r\n                        />\r\n                    </div>\r\n\r\n                    <div className=\"advanced-filter-group\">\r\n                        <label>Data Cadastro (fim)</label>\r\n                        <input\r\n                            type=\"date\"\r\n                            value={filterCadastroFim}\r\n                            onChange={(e) => setFilterCadastroFim(e.target.value)}\r\n                        />\r\n                    </div>\r\n\r\n                    <div className=\"advanced-filter-group\">\r\n                        <label>Data Entrevista (início)</label>\r\n                        <input\r\n                            type=\"date\"\r\n                            value={filterEntrevistaInicio}\r\n                            onChange={(e) => setFilterEntrevistaInicio(e.target.value)}\r\n                        />\r\n                    </div>\r\n\r\n                    <div className=\"advanced-filter-group\">\r\n                        <label>Data Entrevista (fim)</label>\r\n                        <input\r\n                            type=\"date\"\r\n                            value={filterEntrevistaFim}\r\n                            onChange={(e) => setFilterEntrevistaFim(e.target.value)}\r\n                        />\r\n                    </div>\r\n                </div>\r\n            )}\r\n\r\n            {/* Mensagens de status */}\r\n            {error && (\r\n                <div className=\"message error\">\r\n                    {error}\r\n                </div>\r\n            )}\r\n\r\n            {success && (\r\n                <div className=\"message success\">\r\n                    {success}\r\n                </div>\r\n            )}\r\n\r\n            {/* Loading */}\r\n            {loading && (\r\n                <div className=\"loading-message\">\r\n                    ⏳ Carregando famílias...\r\n                </div>\r\n            )}\r\n\r\n            {/* Modal de edição */}\r\n            {familiaEditando && (\r\n                <div className=\"modal-edicao\">\r\n                    <h2>Editar Família</h2>\r\n                    <Formulario\r\n                        modoEdicao={true}\r\n                        dadosIniciais={familiaEditando}\r\n                        onSave={handleSalvarEdicao}\r\n                        disabled={editLoading}\r\n                    />\r\n                    <button className=\"btn-secondary\" onClick={handleCancelarEdicao} disabled={editLoading} style={{marginTop: '15px'}}>Cancelar</button>\r\n                </div>\r\n            )}\r\n\r\n            {/* Lista de famílias */}\r\n            {!loading && familias.length === 0 && (\r\n                <div className=\"empty-state\">\r\n                    <h3>📭 Nenhuma família encontrada</h3>\r\n                    <p>Não há famílias cadastradas no sistema ainda.</p>\r\n                </div>\r\n            )}\r\n\r\n            {/* Se existem famílias, mas nenhuma corresponde aos filtros, mostramos mensagem específica */}\r\n            {!loading && familias.length > 0 && filteredFamilias.length === 0 && (\r\n                <div className=\"empty-state\">\r\n                    <h3>🔎 Nenhuma família corresponde aos filtros</h3>\r\n                    <p>Altere o texto de busca ou o status para encontrar famílias.</p>\r\n                </div>\r\n            )}\r\n\r\n            {!loading && filteredFamilias.length > 0 && (\r\n                <div className=\"familias-grid\">\r\n                    {filteredFamilias.map((familia) => (\r\n                        <div key={familia.ID_FAMILIA} className=\"familia-card\">\r\n                            <div className=\"familia-header\">\r\n                                <h3>👨‍👩‍👧‍👦 {familia.NOME_FAMILIA}</h3>\r\n                                <span className=\"familia-id\">ID: {familia.ID_FAMILIA}</span>\r\n                            </div>\r\n\r\n                            <div className=\"familia-info\">\r\n                                <div className=\"info-row\">\r\n                                    <strong>Responsável:</strong> \r\n                                    <span>{familia.NOME_RESPONSAVEL || 'Não informado'}</span>\r\n                                </div>\r\n\r\n                                <div className=\"info-row\">\r\n                                    <strong>📞 Contato:</strong> \r\n                                    <span>{familia.TELEFONE_CONTATO || familia.CONTATO || 'Não informado'}</span>\r\n                                </div>\r\n\r\n                                {/* Entrevistador (monitor) explícito - renderiza somente se houver dado */}\r\n                                {(() => {\r\n                                    // Preferência: ENTREVISTADOR_NOME (campo explícito)\r\n                                    const entrevistadorExpl = familia.ENTREVISTADOR_NOME || familia.ENTREVISTADOR || null;\r\n                                    // Fallback: tentar extrair do STATUS_ENTREVISTA\r\n                                    const entrevistadorFbd = entrevistadorExpl ? null : extrairEntrevistadorDeStatus(familia.STATUS_ENTREVISTA || familia.STATUS_ENTREVISTA);\r\n                                    const entrevistadorFinal = entrevistadorExpl || entrevistadorFbd;\r\n                                    if (entrevistadorFinal) {\r\n                                        return (\r\n                                            <div className=\"info-row\">\r\n                                                <strong>🎤 Entrevistador:</strong>\r\n                                                <span>{entrevistadorFinal}</span>\r\n                                            </div>\r\n                                        );\r\n                                    }\r\n                                    return null;\r\n                                })()}\r\n\r\n                                <div className=\"info-row\">\r\n                                    <strong>🎯 Crianças CEPAS:</strong> \r\n                                    <span style={{ \r\n                                        color: familia.CRIANCAS_ATIVAS_CEPAS > 0 ? '#27ae60' : '#7f8c8d',\r\n                                        fontWeight: familia.CRIANCAS_ATIVAS_CEPAS > 0 ? 'bold' : 'normal'\r\n                                    }}>\r\n                                        {familia.CRIANCAS_ATIVAS_CEPAS > 0 ? \r\n                                            `${familia.CRIANCAS_ATIVAS_CEPAS} criança(s) ativa(s)` : \r\n                                            'Nenhuma'\r\n                                        }\r\n                                    </span>\r\n                                </div>\r\n\r\n                                <div className=\"info-row\">\r\n                                    <strong>👥 Membros:</strong> \r\n                                    <span>{familia.COMPOSICAO_FAMILIAR || `${familia.TOTAL_MEMBROS || 0} pessoa(s)`}</span>\r\n                                </div>\r\n\r\n                                <div className=\"info-row\">\r\n                                    <strong>Benefício Social:</strong> \r\n                                    <span style={{ \r\n                                        color: familia.RECEBE_BENEFICIO ? '#27ae60' : '#e74c3c',\r\n                                        fontWeight: 'bold'\r\n                                    }}>\r\n                                        {familia.STATUS_BENEFICIO || (familia.RECEBE_BENEFICIO ? '✅ Recebe' : '❌ Não recebe')}\r\n                                    </span>\r\n                                </div>\r\n\r\n                                <div className=\"info-row\">\r\n                                    <strong>Plano de Saúde:</strong> \r\n                                    <span style={{ \r\n                                        color: familia.POSSUI_PLANO_SAUDE ? '#27ae60' : '#e74c3c'\r\n                                    }}>\r\n                                        {familia.STATUS_PLANO_SAUDE || (familia.POSSUI_PLANO_SAUDE ? '✅ Possui' : '❌ Não possui')}\r\n                                        {familia.CONVENIO && ` (${familia.CONVENIO})`}\r\n                                    </span>\r\n                                </div>\r\n\r\n                                <div className=\"info-row\">\r\n                                    <strong>🏠 Habitação:</strong> \r\n                                    <span>{familia.CONDICOES_HABITACAO || 'Não informado'}</span>\r\n                                </div>\r\n\r\n                                <div className=\"info-row\">\r\n                                    <strong>📍 Endereço:</strong> \r\n                                    <span>{familia.ENDERECO_COMPLETO || 'Não informado'}</span>\r\n                                </div>\r\n\r\n                                <div className=\"info-row\">\r\n                                    <strong>🗺️ Origem:</strong> \r\n                                    <span>{familia.ORIGEM_COMPLETA || 'Não informado'}</span>\r\n                                </div>\r\n\r\n                                <div className=\"info-row\">\r\n                                    <strong>🎤 Entrevista:</strong> \r\n                                    <span>{familia.STATUS_ENTREVISTA || 'Não realizada'}</span>\r\n                                </div>\r\n\r\n                                <div className=\"info-row\">\r\n                                    <strong>📅 Cadastrado em:</strong> \r\n                                    <span>{formatarData(familia.DATA_CADASTRO)}</span>\r\n                                </div>\r\n\r\n                                {familia.OBSERVACOES && (\r\n                                    <div className=\"info-row observacoes\">\r\n                                        <strong>📝 Observações:</strong> \r\n                                        <span>{familia.OBSERVACOES.length > 100 ? \r\n                                            familia.OBSERVACOES.substring(0, 100) + '...' : \r\n                                            familia.OBSERVACOES\r\n                                        }</span>\r\n                                    </div>\r\n                                )}\r\n\r\n                                {/* Badge de status */}\r\n                                <div className=\"status-badges\">\r\n                                    {familia.CRIANCAS_ATIVAS_CEPAS > 0 && (\r\n                                        <span className=\"badge badge-cepas\">\r\n                                            🎯 CEPAS ATIVO\r\n                                        </span>\r\n                                    )}\r\n                                    {familia.RECEBE_BENEFICIO && (\r\n                                        <span className=\"badge badge-beneficio\">\r\n                                            💰 BENEFÍCIO\r\n                                        </span>\r\n                                    )}\r\n                                    {!familia.DATA_ENTREVISTA && (\r\n                                        <span className=\"badge badge-pendente\">\r\n                                            ⏳ ENTREVISTA PENDENTE\r\n                                        </span>\r\n                                    )}\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div className=\"familia-actions\">\r\n                                <button\r\n                                    onClick={() => visualizarFamilia(familia.ID_FAMILIA)}\r\n                                    disabled={viewLoadingId === familia.ID_FAMILIA}\r\n                                    className=\"btn-view\"\r\n                                >\r\n                                    {viewLoadingId === familia.ID_FAMILIA ? '👁️ Abrindo...' : '👁️ Ver'}\r\n                                </button>\r\n\r\n                                <button\r\n                                    onClick={() => handleEditarClick(familia.ID_FAMILIA)}\r\n                                    disabled={deletingId === familia.ID_FAMILIA}\r\n                                    className=\"btn-edit\"\r\n                                >\r\n                                    ✏️ Editar\r\n                                </button>\r\n                                \r\n                                <button\r\n                                    onClick={() => confirmarDelecao(familia)}\r\n                                    disabled={deletingId === familia.ID_FAMILIA}\r\n                                    className=\"btn-danger\"\r\n                                >\r\n                                    {deletingId === familia.ID_FAMILIA ? (\r\n                                        '⏳ Deletando...'\r\n                                    ) : (\r\n                                        '🗑️ Deletar'\r\n                                    )}\r\n                                </button>\r\n                            </div>\r\n                        </div>\r\n                    ))}\r\n                </div>\r\n            )}\r\n\r\n            {familiaVisualizando && (\r\n                <div className=\"modal-overlay\" role=\"dialog\" aria-modal=\"true\">\r\n                    <div className=\"modal modal-view\">\r\n                        <h2>Detalhes da Família</h2>\r\n                        <p className=\"view-subtitle\">\r\n                            ID: {getCampo(familiaVisualizando, ['id_familia', 'ID_FAMILIA']) || 'N/I'}\r\n                        </p>\r\n\r\n                        <div className=\"view-section\">\r\n                            <h3>Dados Gerais</h3>\r\n                            <ul>\r\n                                <li><strong>Nome:</strong> {getCampo(familiaVisualizando, ['nome_familia', 'NOME_FAMILIA']) || 'Não informado'}</li>\r\n                                <li><strong>Responsável:</strong> {getCampo(familiaVisualizando, ['nome_responsavel', 'NOME_RESPONSAVEL']) || 'Não informado'}</li>\r\n                                <li><strong>Contato:</strong> {getCampo(familiaVisualizando, ['telefone_contato', 'contato', 'TELEFONE_CONTATO', 'CONTATO']) || 'Não informado'}</li>\r\n                                <li><strong>Data de Cadastro:</strong> {formatarData(getCampo(familiaVisualizando, ['data_cadastro', 'DATA_CADASTRO']))}</li>\r\n                                <li><strong>Recebe Benefício:</strong> {formatarBooleano(getCampo(familiaVisualizando, ['recebe_beneficio', 'RECEBE_BENEFICIO']))}</li>\r\n                                <li><strong>Possui Plano de Saúde:</strong> {formatarBooleano(getCampo(familiaVisualizando, ['possui_plano_saude', 'POSSUI_PLANO_SAUDE']))}</li>\r\n                                {getCampo(familiaVisualizando, ['convenio', 'CONVENIO']) && (\r\n                                    <li><strong>Convênio:</strong> {getCampo(familiaVisualizando, ['convenio', 'CONVENIO'])}</li>\r\n                                )}\r\n                                {getCampo(familiaVisualizando, ['observacoes', 'OBSERVACOES']) && (\r\n                                    <li><strong>Observações:</strong> {getCampo(familiaVisualizando, ['observacoes', 'OBSERVACOES'])}</li>\r\n                                )}\r\n                            </ul>\r\n                        </div>\r\n\r\n                        <div className=\"view-section\">\r\n                            <h3>Endereço</h3>\r\n                            {(() => {\r\n                                const endereco = getCampo(familiaVisualizando, ['endereco', 'ENDERECO']) || {};\r\n                                return (\r\n                                    <ul>\r\n                                        <li><strong>Área:</strong> {getCampo(endereco, ['nome_area', 'NOME_AREA']) || getCampo(endereco, ['id_area', 'ID_AREA']) || 'Não informado'}</li>\r\n                                        <li><strong>Quadra:</strong> {getCampo(endereco, ['quadra', 'QUADRA']) || 'Não informado'}</li>\r\n                                        <li><strong>Rua:</strong> {getCampo(endereco, ['rua', 'RUA']) || 'Não informado'}</li>\r\n                                        <li><strong>Número:</strong> {getCampo(endereco, ['numero_casa', 'NUMERO_CASA']) || 'Não informado'}</li>\r\n                                        {getCampo(endereco, ['complemento', 'COMPLEMENTO']) && (\r\n                                            <li><strong>Complemento:</strong> {getCampo(endereco, ['complemento', 'COMPLEMENTO'])}</li>\r\n                                        )}\r\n                                    </ul>\r\n                                );\r\n                            })()}\r\n                        </div>\r\n\r\n                        <div className=\"view-section\">\r\n                            <h3>Estrutura da Habitação</h3>\r\n                            {(() => {\r\n                                const estrutura = getCampo(familiaVisualizando, ['estrutura', 'estrutura_habitacao', 'ESTRUTURA']) || {};\r\n                                return (\r\n                                    <ul>\r\n                                        <li><strong>Tipo de Habitação:</strong> {getCampo(estrutura, ['tipo_habitacao', 'TIPO_HABITACAO']) || 'Não informado'}</li>\r\n                                        <li><strong>Tipo de Lote:</strong> {getCampo(estrutura, ['tipo_lote', 'TIPO_LOTE']) || 'Não informado'}</li>\r\n                                        <li><strong>Convivência:</strong> {getCampo(estrutura, ['situacao_convivencia', 'SITUACAO_CONVIVENCIA']) || 'Não informado'}</li>\r\n                                        <li><strong>Energia Elétrica:</strong> {formatarBooleano(getCampo(estrutura, ['energia_eletrica', 'ENERGIA_ELETRICA']))}</li>\r\n                                        <li><strong>Material Parede:</strong> {getCampo(estrutura, ['material_parede', 'MATERIAL_PAREDE']) || 'Não informado'}</li>\r\n                                        <li><strong>Material Piso:</strong> {getCampo(estrutura, ['material_piso', 'MATERIAL_PISO']) || 'Não informado'}</li>\r\n                                        <li><strong>Material Cobertura:</strong> {getCampo(estrutura, ['material_cobertura', 'MATERIAL_COBERTURA']) || 'Não informado'}</li>\r\n                                        <li><strong>Quartos:</strong> {getCampo(estrutura, ['qtd_quartos', 'QTD_QUARTOS']) || 'Não informado'}</li>\r\n                                        <li><strong>Camas:</strong> {getCampo(estrutura, ['qtd_camas', 'QTD_CAMAS']) || 'Não informado'}</li>\r\n                                        {getCampo(estrutura, ['tipo_camas', 'TIPO_CAMAS']) && (\r\n                                            <li><strong>Tipo de Camas:</strong> {getCampo(estrutura, ['tipo_camas', 'TIPO_CAMAS'])}</li>\r\n                                        )}\r\n                                    </ul>\r\n                                );\r\n                            })()}\r\n                        </div>\r\n\r\n                        <div className=\"view-split\">\r\n                            <div className=\"view-section\">\r\n                                <h3>Animais</h3>\r\n                                {(() => {\r\n                                    const animal = getCampo(familiaVisualizando, ['animal', 'ANIMAL']) || {};\r\n                                    return (\r\n                                        <ul>\r\n                                            <li><strong>Possui Animais:</strong> {formatarBooleano(getCampo(animal, ['tem_animal', 'TEM_ANIMAL']))}</li>\r\n                                            {getCampo(animal, ['qtd_animais', 'QTD_ANIMAIS']) && (\r\n                                                <li><strong>Quantidade:</strong> {getCampo(animal, ['qtd_animais', 'QTD_ANIMAIS'])}</li>\r\n                                            )}\r\n                                            {getCampo(animal, ['qual_animal', 'QUAL_ANIMAL']) && (\r\n                                                <li><strong>Tipos:</strong> {getCampo(animal, ['qual_animal', 'QUAL_ANIMAL'])}</li>\r\n                                            )}\r\n                                        </ul>\r\n                                    );\r\n                                })()}\r\n                            </div>\r\n\r\n                            <div className=\"view-section\">\r\n                                <h3>Saneamento</h3>\r\n                                {(() => {\r\n                                    const saneamento = getCampo(familiaVisualizando, ['saneamento', 'RECURSO_SANEAMENTO']) || {};\r\n                                    return (\r\n                                        <ul>\r\n                                            <li><strong>Horta:</strong> {formatarBooleano(getCampo(saneamento, ['horta', 'HORTA']))}</li>\r\n                                            <li><strong>Árvore Frutífera:</strong> {formatarBooleano(getCampo(saneamento, ['arvore_frutifera', 'ARVORE_FRUTIFERA']))}</li>\r\n                                            <li><strong>Banheiro:</strong> {formatarBooleano(getCampo(saneamento, ['tem_banheiro', 'TEM_BANHEIRO']))}</li>\r\n                                            <li><strong>Esgotamento:</strong> {getCampo(saneamento, ['como_escoa', 'COMO_ESCOA']) || 'Não informado'}</li>\r\n                                            <li><strong>Destino do Lixo:</strong> {getCampo(saneamento, ['dest_lixo', 'DEST_LIXO']) || 'Não informado'}</li>\r\n                                            <li><strong>Consumo de Água:</strong> {getCampo(saneamento, ['bebe_agua', 'BEBE_AGUA']) || 'Não informado'}</li>\r\n                                            <li><strong>Tratamento da Água:</strong> {getCampo(saneamento, ['trata_agua', 'TRATA_AGUA']) || 'Não informado'}</li>\r\n                                        </ul>\r\n                                    );\r\n                                })()}\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div className=\"view-section\">\r\n                            <h3>Entrevista</h3>\r\n                            {(() => {\r\n                                const entrevista = getCampo(familiaVisualizando, ['entrevista', 'ENTREVISTA']) || {};\r\n                                return (\r\n                                    <ul>\r\n                                        <li><strong>Entrevistado:</strong> {getCampo(entrevista, ['entrevistado', 'ENTREVISTADO']) || 'Não informado'}</li>\r\n                                        <li><strong>Data:</strong> {formatarData(getCampo(entrevista, ['data_entrevista', 'DATA_ENTREVISTA']))}</li>\r\n                                        <li><strong>Entrevistador:</strong> {getCampo(entrevista, ['entrevistador_nome', 'ENTREVISTADOR_NOME', 'entrevistador', 'ENTREVISTADOR']) || 'Não informado'}</li>\r\n                                        <li><strong>Contato:</strong> {getCampo(entrevista, ['telefone_contato', 'TELEFONE_CONTATO']) || 'Não informado'}</li>\r\n                                        {getCampo(entrevista, ['observacoes', 'OBSERVACOES']) && (\r\n                                            <li><strong>Observações:</strong> {getCampo(entrevista, ['observacoes', 'OBSERVACOES'])}</li>\r\n                                        )}\r\n                                    </ul>\r\n                                );\r\n                            })()}\r\n                        </div>\r\n\r\n                        <div className=\"view-section\">\r\n                            <h3>Membros da Família</h3>\r\n                            {(() => {\r\n                                const membros = getCampo(familiaVisualizando, ['membros', 'MEMBROS']);\r\n                                if (!Array.isArray(membros) || membros.length === 0) {\r\n                                    return <p>Nenhum membro cadastrado.</p>;\r\n                                }\r\n                                return (\r\n                                    <ul className=\"view-membros\">\r\n                                        {membros.map((membro, index) => {\r\n                                            const chave = membro.id_membro || membro.ID_MEMBRO || membro.membro_id || index;\r\n                                            const criancaCepasValor = getCampo(membro, ['crianca_cepas', 'CRIANCA_CEPAS']);\r\n                                            const participaCepas = (() => {\r\n                                                if (!criancaCepasValor) return false;\r\n                                                if (typeof criancaCepasValor === 'object') {\r\n                                                    return criancaCepasValor.ativa === 1 || criancaCepasValor.ativa === true;\r\n                                                }\r\n                                                return criancaCepasValor === 1 || criancaCepasValor === true;\r\n                                            })();\r\n                                            return (\r\n                                                <li key={chave}>\r\n                                                    <span className=\"membro-nome\">{getCampo(membro, ['nome', 'NOME']) || 'Sem nome'}</span>\r\n                                                    <span className=\"membro-detalhe\">Relação: {getCampo(membro, ['relacao', 'RELACAO']) || 'N/I'}</span>\r\n                                                    {getCampo(membro, ['sexo', 'SEXO']) && (\r\n                                                        <span className=\"membro-detalhe\">Sexo: {getCampo(membro, ['sexo', 'SEXO'])}</span>\r\n                                                    )}\r\n                                                    {getCampo(membro, ['data_nascimento', 'DATA_NASCIMENTO']) && (\r\n                                                        <span className=\"membro-detalhe\">Nascimento: {formatarData(getCampo(membro, ['data_nascimento', 'DATA_NASCIMENTO']))}</span>\r\n                                                    )}\r\n                                                    {getCampo(membro, ['ocupacao', 'OCUPACAO']) && (\r\n                                                        <span className=\"membro-detalhe\">Ocupação: {getCampo(membro, ['ocupacao', 'OCUPACAO'])}</span>\r\n                                                    )}\r\n                                                    {participaCepas && <span className=\"membro-tag\">🎯 CEPAS</span>}\r\n                                                </li>\r\n                                            );\r\n                                        })}\r\n                                    </ul>\r\n                                );\r\n                            })()}\r\n                        </div>\r\n\r\n                        <div className=\"modal-actions\">\r\n                            <button className=\"btn-secondary\" onClick={fecharVisualizacao}>\r\n                                Fechar\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default ListaFamilias;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}